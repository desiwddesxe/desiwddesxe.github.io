{"version":3,"file":"da61e5aa9a44323c7650d94354e039b9afaaa792-21dbe4bbfe695c07ec6a.js","mappings":"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","sources":["webpack://danielamarangon.com/./node_modules/camelcase/index.js","webpack://danielamarangon.com/./node_modules/desandro-matches-selector/matches-selector.js","webpack://danielamarangon.com/./node_modules/ev-emitter/ev-emitter.js","webpack://danielamarangon.com/./node_modules/fizzy-ui-utils/utils.js","webpack://danielamarangon.com/../src/image-utils.ts","webpack://danielamarangon.com/../src/components/hooks.ts","webpack://danielamarangon.com/../src/components/layout-wrapper.tsx","webpack://danielamarangon.com/../src/components/picture.tsx","webpack://danielamarangon.com/../src/components/placeholder.tsx","webpack://danielamarangon.com/../src/components/main-image.tsx","webpack://danielamarangon.com/../src/components/gatsby-image.server.tsx","webpack://danielamarangon.com/../src/components/gatsby-image.browser.tsx","webpack://danielamarangon.com/../src/components/static-image.server.tsx","webpack://danielamarangon.com/../src/components/static-image.tsx","webpack://danielamarangon.com/./src/utils/utils.js","webpack://danielamarangon.com/./node_modules/get-size/get-size.js","webpack://danielamarangon.com/./node_modules/imagesloaded/imagesloaded.js","webpack://danielamarangon.com/./node_modules/masonry-layout/masonry.js","webpack://danielamarangon.com/./node_modules/outlayer/item.js","webpack://danielamarangon.com/./node_modules/outlayer/node_modules/ev-emitter/ev-emitter.js","webpack://danielamarangon.com/./node_modules/outlayer/outlayer.js","webpack://danielamarangon.com/./node_modules/photoswipe/dist/photoswipe-lightbox.esm.js"],"sourcesContent":["'use strict';\n\nconst UPPERCASE = /[\\p{Lu}]/u;\nconst LOWERCASE = /[\\p{Ll}]/u;\nconst LEADING_CAPITAL = /^[\\p{Lu}](?![\\p{Lu}])/gu;\nconst IDENTIFIER = /([\\p{Alpha}\\p{N}_]|$)/u;\nconst SEPARATORS = /[_.\\- ]+/;\n\nconst LEADING_SEPARATORS = new RegExp('^' + SEPARATORS.source);\nconst SEPARATORS_AND_IDENTIFIER = new RegExp(SEPARATORS.source + IDENTIFIER.source, 'gu');\nconst NUMBERS_AND_IDENTIFIER = new RegExp('\\\\d+' + IDENTIFIER.source, 'gu');\n\nconst preserveCamelCase = (string, toLowerCase, toUpperCase) => {\n\tlet isLastCharLower = false;\n\tlet isLastCharUpper = false;\n\tlet isLastLastCharUpper = false;\n\n\tfor (let i = 0; i < string.length; i++) {\n\t\tconst character = string[i];\n\n\t\tif (isLastCharLower && UPPERCASE.test(character)) {\n\t\t\tstring = string.slice(0, i) + '-' + string.slice(i);\n\t\t\tisLastCharLower = false;\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = true;\n\t\t\ti++;\n\t\t} else if (isLastCharUpper && isLastLastCharUpper && LOWERCASE.test(character)) {\n\t\t\tstring = string.slice(0, i - 1) + '-' + string.slice(i - 1);\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = false;\n\t\t\tisLastCharLower = true;\n\t\t} else {\n\t\t\tisLastCharLower = toLowerCase(character) === character && toUpperCase(character) !== character;\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = toUpperCase(character) === character && toLowerCase(character) !== character;\n\t\t}\n\t}\n\n\treturn string;\n};\n\nconst preserveConsecutiveUppercase = (input, toLowerCase) => {\n\tLEADING_CAPITAL.lastIndex = 0;\n\n\treturn input.replace(LEADING_CAPITAL, m1 => toLowerCase(m1));\n};\n\nconst postProcess = (input, toUpperCase) => {\n\tSEPARATORS_AND_IDENTIFIER.lastIndex = 0;\n\tNUMBERS_AND_IDENTIFIER.lastIndex = 0;\n\n\treturn input.replace(SEPARATORS_AND_IDENTIFIER, (_, identifier) => toUpperCase(identifier))\n\t\t.replace(NUMBERS_AND_IDENTIFIER, m => toUpperCase(m));\n};\n\nconst camelCase = (input, options) => {\n\tif (!(typeof input === 'string' || Array.isArray(input))) {\n\t\tthrow new TypeError('Expected the input to be `string | string[]`');\n\t}\n\n\toptions = {\n\t\tpascalCase: false,\n\t\tpreserveConsecutiveUppercase: false,\n\t\t...options\n\t};\n\n\tif (Array.isArray(input)) {\n\t\tinput = input.map(x => x.trim())\n\t\t\t.filter(x => x.length)\n\t\t\t.join('-');\n\t} else {\n\t\tinput = input.trim();\n\t}\n\n\tif (input.length === 0) {\n\t\treturn '';\n\t}\n\n\tconst toLowerCase = options.locale === false ?\n\t\tstring => string.toLowerCase() :\n\t\tstring => string.toLocaleLowerCase(options.locale);\n\tconst toUpperCase = options.locale === false ?\n\t\tstring => string.toUpperCase() :\n\t\tstring => string.toLocaleUpperCase(options.locale);\n\n\tif (input.length === 1) {\n\t\treturn options.pascalCase ? toUpperCase(input) : toLowerCase(input);\n\t}\n\n\tconst hasUpperCase = input !== toLowerCase(input);\n\n\tif (hasUpperCase) {\n\t\tinput = preserveCamelCase(input, toLowerCase, toUpperCase);\n\t}\n\n\tinput = input.replace(LEADING_SEPARATORS, '');\n\n\tif (options.preserveConsecutiveUppercase) {\n\t\tinput = preserveConsecutiveUppercase(input, toLowerCase);\n\t} else {\n\t\tinput = toLowerCase(input);\n\t}\n\n\tif (options.pascalCase) {\n\t\tinput = toUpperCase(input.charAt(0)) + input.slice(1);\n\t}\n\n\treturn postProcess(input, toUpperCase);\n};\n\nmodule.exports = camelCase;\n// TODO: Remove this for the next major release\nmodule.exports.default = camelCase;\n","/**\n * matchesSelector v2.0.2\n * matchesSelector( element, '.selector' )\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  /*global define: false, module: false */\n  'use strict';\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.matchesSelector = factory();\n  }\n\n}( window, function factory() {\n  'use strict';\n\n  var matchesMethod = ( function() {\n    var ElemProto = window.Element.prototype;\n    // check for the standard method name first\n    if ( ElemProto.matches ) {\n      return 'matches';\n    }\n    // check un-prefixed\n    if ( ElemProto.matchesSelector ) {\n      return 'matchesSelector';\n    }\n    // check vendor prefixes\n    var prefixes = [ 'webkit', 'moz', 'ms', 'o' ];\n\n    for ( var i=0; i < prefixes.length; i++ ) {\n      var prefix = prefixes[i];\n      var method = prefix + 'MatchesSelector';\n      if ( ElemProto[ method ] ) {\n        return method;\n      }\n    }\n  })();\n\n  return function matchesSelector( elem, selector ) {\n    return elem[ matchesMethod ]( selector );\n  };\n\n}));\n","/**\n * EvEmitter v2.1.1\n * Lil' event emitter\n * MIT License\n */\n\n( function( global, factory ) {\n  // universal module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n\n}( typeof window != 'undefined' ? window : this, function() {\n\nfunction EvEmitter() {}\n\nlet proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) return this;\n\n  // set events hash\n  let events = this._events = this._events || {};\n  // set listeners array\n  let listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( !listeners.includes( listener ) ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) return this;\n\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  let onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners object\n  let onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  let listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) return this;\n\n  let index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  let listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) return this;\n\n  // copy over to avoid interference if .off() in listener\n  listeners = listeners.slice( 0 );\n  args = args || [];\n  // once stuff\n  let onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  for ( let listener of listeners ) {\n    let isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n  }\n\n  return this;\n};\n\nproto.allOff = function() {\n  delete this._events;\n  delete this._onceEvents;\n  return this;\n};\n\nreturn EvEmitter;\n\n} ) );\n","/**\n * Fizzy UI utils v2.0.7\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'desandro-matches-selector/matches-selector'\n    ], function( matchesSelector ) {\n      return factory( window, matchesSelector );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('desandro-matches-selector')\n    );\n  } else {\n    // browser global\n    window.fizzyUIUtils = factory(\n      window,\n      window.matchesSelector\n    );\n  }\n\n}( window, function factory( window, matchesSelector ) {\n\n'use strict';\n\nvar utils = {};\n\n// ----- extend ----- //\n\n// extends objects\nutils.extend = function( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n};\n\n// ----- modulo ----- //\n\nutils.modulo = function( num, div ) {\n  return ( ( num % div ) + div ) % div;\n};\n\n// ----- makeArray ----- //\n\nvar arraySlice = Array.prototype.slice;\n\n// turn element or nodeList into an array\nutils.makeArray = function( obj ) {\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    return obj;\n  }\n  // return empty array if undefined or null. #6\n  if ( obj === null || obj === undefined ) {\n    return [];\n  }\n\n  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n  if ( isArrayLike ) {\n    // convert nodeList to array\n    return arraySlice.call( obj );\n  }\n\n  // array of single index\n  return [ obj ];\n};\n\n// ----- removeFrom ----- //\n\nutils.removeFrom = function( ary, obj ) {\n  var index = ary.indexOf( obj );\n  if ( index != -1 ) {\n    ary.splice( index, 1 );\n  }\n};\n\n// ----- getParent ----- //\n\nutils.getParent = function( elem, selector ) {\n  while ( elem.parentNode && elem != document.body ) {\n    elem = elem.parentNode;\n    if ( matchesSelector( elem, selector ) ) {\n      return elem;\n    }\n  }\n};\n\n// ----- getQueryElement ----- //\n\n// use element as selector string\nutils.getQueryElement = function( elem ) {\n  if ( typeof elem == 'string' ) {\n    return document.querySelector( elem );\n  }\n  return elem;\n};\n\n// ----- handleEvent ----- //\n\n// enable .ontype to trigger from .addEventListener( elem, 'type' )\nutils.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// ----- filterFindElements ----- //\n\nutils.filterFindElements = function( elems, selector ) {\n  // make array of elems\n  elems = utils.makeArray( elems );\n  var ffElems = [];\n\n  elems.forEach( function( elem ) {\n    // check that elem is an actual element\n    if ( !( elem instanceof HTMLElement ) ) {\n      return;\n    }\n    // add elem if no selector\n    if ( !selector ) {\n      ffElems.push( elem );\n      return;\n    }\n    // filter & find items if we have a selector\n    // filter\n    if ( matchesSelector( elem, selector ) ) {\n      ffElems.push( elem );\n    }\n    // find children\n    var childElems = elem.querySelectorAll( selector );\n    // concat childElems to filterFound array\n    for ( var i=0; i < childElems.length; i++ ) {\n      ffElems.push( childElems[i] );\n    }\n  });\n\n  return ffElems;\n};\n\n// ----- debounceMethod ----- //\n\nutils.debounceMethod = function( _class, methodName, threshold ) {\n  threshold = threshold || 100;\n  // original method\n  var method = _class.prototype[ methodName ];\n  var timeoutName = methodName + 'Timeout';\n\n  _class.prototype[ methodName ] = function() {\n    var timeout = this[ timeoutName ];\n    clearTimeout( timeout );\n\n    var args = arguments;\n    var _this = this;\n    this[ timeoutName ] = setTimeout( function() {\n      method.apply( _this, args );\n      delete _this[ timeoutName ];\n    }, threshold );\n  };\n};\n\n// ----- docReady ----- //\n\nutils.docReady = function( callback ) {\n  var readyState = document.readyState;\n  if ( readyState == 'complete' || readyState == 'interactive' ) {\n    // do async to allow for other scripts to run. metafizzy/flickity#441\n    setTimeout( callback );\n  } else {\n    document.addEventListener( 'DOMContentLoaded', callback );\n  }\n};\n\n// ----- htmlInit ----- //\n\n// http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/\nutils.toDashed = function( str ) {\n  return str.replace( /(.)([A-Z])/g, function( match, $1, $2 ) {\n    return $1 + '-' + $2;\n  }).toLowerCase();\n};\n\nvar console = window.console;\n/**\n * allow user to initialize classes via [data-namespace] or .js-namespace class\n * htmlInit( Widget, 'widgetName' )\n * options are parsed from data-namespace-options\n */\nutils.htmlInit = function( WidgetClass, namespace ) {\n  utils.docReady( function() {\n    var dashedNamespace = utils.toDashed( namespace );\n    var dataAttr = 'data-' + dashedNamespace;\n    var dataAttrElems = document.querySelectorAll( '[' + dataAttr + ']' );\n    var jsDashElems = document.querySelectorAll( '.js-' + dashedNamespace );\n    var elems = utils.makeArray( dataAttrElems )\n      .concat( utils.makeArray( jsDashElems ) );\n    var dataOptionsAttr = dataAttr + '-options';\n    var jQuery = window.jQuery;\n\n    elems.forEach( function( elem ) {\n      var attr = elem.getAttribute( dataAttr ) ||\n        elem.getAttribute( dataOptionsAttr );\n      var options;\n      try {\n        options = attr && JSON.parse( attr );\n      } catch ( error ) {\n        // log error, do not initialize\n        if ( console ) {\n          console.error( 'Error parsing ' + dataAttr + ' on ' + elem.className +\n          ': ' + error );\n        }\n        return;\n      }\n      // initialize\n      var instance = new WidgetClass( elem, options );\n      // make available via $().data('namespace')\n      if ( jQuery ) {\n        jQuery.data( elem, namespace, instance );\n      }\n    });\n\n  });\n};\n\n// -----  ----- //\n\nreturn utils;\n\n}));\n","import camelCase from \"camelcase\"\nimport type { IGatsbyImageData } from \"./index\"\n\nconst DEFAULT_PIXEL_DENSITIES = [0.25, 0.5, 1, 2]\nexport const DEFAULT_BREAKPOINTS = [750, 1080, 1366, 1920]\nexport const EVERY_BREAKPOINT = [\n  320, 654, 768, 1024, 1366, 1600, 1920, 2048, 2560, 3440, 3840, 4096,\n]\nconst DEFAULT_FLUID_WIDTH = 800\nconst DEFAULT_FIXED_WIDTH = 800\nconst DEFAULT_ASPECT_RATIO = 4 / 3\n\nexport type Fit = \"cover\" | \"fill\" | \"inside\" | \"outside\" | \"contain\"\n\nexport type Layout = \"fixed\" | \"fullWidth\" | \"constrained\"\nexport type ImageFormat = \"jpg\" | \"png\" | \"webp\" | \"avif\" | \"auto\" | \"\"\n\n/**\n * The minimal required reporter, as we don't want to import it from gatsby-cli\n */\nexport interface IReporter {\n  warn(message: string): void\n}\n\nexport interface ISharpGatsbyImageArgs {\n  layout?: Layout\n  formats?: Array<ImageFormat>\n  placeholder?: \"tracedSVG\" | \"dominantColor\" | \"blurred\" | \"none\"\n  tracedSVGOptions?: Record<string, unknown>\n  width?: number\n  height?: number\n  aspectRatio?: number\n  sizes?: string\n  quality?: number\n  transformOptions?: {\n    fit?: Fit\n    cropFocus?: number | string\n    duotone?: {\n      highlight: string\n      shadow: string\n      opacity?: number\n    }\n    grayscale?: boolean\n    rotate?: number\n    trim?: number\n  }\n  jpgOptions?: Record<string, unknown>\n  pngOptions?: Record<string, unknown>\n  webpOptions?: Record<string, unknown>\n  avifOptions?: Record<string, unknown>\n  blurredOptions?: { width?: number; toFormat?: ImageFormat }\n  breakpoints?: Array<number>\n  outputPixelDensities?: Array<number>\n  backgroundColor?: string\n}\n\nexport interface IImageSizeArgs {\n  width?: number\n  height?: number\n  layout?: Layout\n  filename: string\n  outputPixelDensities?: Array<number>\n  breakpoints?: Array<number>\n  fit?: Fit\n  reporter?: IReporter\n  sourceMetadata: { width: number; height: number }\n}\n\nexport interface IImageSizes {\n  sizes: Array<number>\n  presentationWidth: number\n  presentationHeight: number\n  aspectRatio: number\n  unscaledWidth: number\n}\n\nexport interface IImage {\n  src: string\n  width: number\n  height: number\n  format: ImageFormat\n}\n\nexport interface IGatsbyImageHelperArgs {\n  pluginName: string\n  generateImageSource: (\n    filename: string,\n    width: number,\n    height: number,\n    format: ImageFormat,\n    fit?: Fit,\n    options?: Record<string, unknown>\n  ) => IImage\n  layout?: Layout\n  formats?: Array<ImageFormat>\n  filename: string\n  placeholderURL?: string\n  width?: number\n  height?: number\n  sizes?: string\n  reporter?: IReporter\n  sourceMetadata?: { width: number; height: number; format: ImageFormat }\n  fit?: Fit\n  options?: Record<string, unknown>\n  breakpoints?: Array<number>\n  backgroundColor?: string\n  aspectRatio?: number\n}\n\nconst warn = (message: string): void => console.warn(message)\n\nconst sortNumeric = (a: number, b: number): number => a - b\n\nexport const getSizes = (width: number, layout: Layout): string | undefined => {\n  switch (layout) {\n    // If screen is wider than the max size, image width is the max size,\n    // otherwise it's the width of the screen\n    case `constrained`:\n      return `(min-width: ${width}px) ${width}px, 100vw`\n\n    // Image is always the same width, whatever the size of the screen\n    case `fixed`:\n      return `${width}px`\n\n    // Image is always the width of the screen\n    case `fullWidth`:\n      return `100vw`\n\n    default:\n      return undefined\n  }\n}\n\nexport const getSrcSet = (images: Array<IImage>): string =>\n  images.map(image => `${image.src} ${image.width}w`).join(`,\\n`)\n\nexport function formatFromFilename(filename: string): ImageFormat | undefined {\n  const dot = filename.lastIndexOf(`.`)\n  if (dot !== -1) {\n    const ext = filename.slice(dot + 1)\n    if (ext === `jpeg`) {\n      return `jpg`\n    }\n    if (ext.length === 3 || ext.length === 4) {\n      return ext as ImageFormat\n    }\n  }\n  return undefined\n}\n\nexport function setDefaultDimensions(\n  args: IGatsbyImageHelperArgs\n): IGatsbyImageHelperArgs {\n  let {\n    layout = `constrained`,\n    width,\n    height,\n    sourceMetadata,\n    breakpoints,\n    aspectRatio,\n    formats = [`auto`, `webp`],\n  } = args\n  formats = formats.map(format => format.toLowerCase() as ImageFormat)\n  layout = camelCase(layout) as Layout\n\n  if (width && height) {\n    return { ...args, formats, layout, aspectRatio: width / height }\n  }\n  if (sourceMetadata.width && sourceMetadata.height && !aspectRatio) {\n    aspectRatio = sourceMetadata.width / sourceMetadata.height\n  }\n\n  if (layout === `fullWidth`) {\n    width = width || sourceMetadata.width || breakpoints[breakpoints.length - 1]\n    height = height || Math.round(width / (aspectRatio || DEFAULT_ASPECT_RATIO))\n  } else {\n    if (!width) {\n      if (height && aspectRatio) {\n        width = height * aspectRatio\n      } else if (sourceMetadata.width) {\n        width = sourceMetadata.width\n      } else if (height) {\n        width = Math.round(height / DEFAULT_ASPECT_RATIO)\n      } else {\n        width = DEFAULT_FIXED_WIDTH\n      }\n    }\n\n    if (aspectRatio && !height) {\n      height = Math.round(width / aspectRatio)\n    } else if (!aspectRatio) {\n      aspectRatio = width / height\n    }\n  }\n  return { ...args, width, height, aspectRatio, layout, formats }\n}\n\n/**\n * Use this for getting an image for the blurred placeholder. This ensures the\n * aspect ratio and crop match the main image\n */\nexport function getLowResolutionImageURL(\n  args: IGatsbyImageHelperArgs,\n  width = 20\n): string {\n  args = setDefaultDimensions(args)\n  const { generateImageSource, filename, aspectRatio } = args\n  return generateImageSource(\n    filename,\n    width,\n    Math.round(width / aspectRatio),\n    args.sourceMetadata.format || `jpg`,\n    args.fit,\n    args.options\n  )?.src\n}\n\nexport function generateImageData(\n  args: IGatsbyImageHelperArgs\n): IGatsbyImageData {\n  args = setDefaultDimensions(args)\n\n  let {\n    pluginName,\n    sourceMetadata,\n    generateImageSource,\n    layout,\n    fit,\n    options,\n    width,\n    height,\n    filename,\n    reporter = { warn },\n    backgroundColor,\n    placeholderURL,\n  } = args\n\n  if (!pluginName) {\n    reporter.warn(\n      `[gatsby-plugin-image] \"generateImageData\" was not passed a plugin name`\n    )\n  }\n\n  if (typeof generateImageSource !== `function`) {\n    throw new Error(`generateImageSource must be a function`)\n  }\n\n  if (!sourceMetadata || (!sourceMetadata.width && !sourceMetadata.height)) {\n    // No metadata means we let the CDN handle max size etc, aspect ratio etc\n    sourceMetadata = {\n      width,\n      height,\n      format: sourceMetadata?.format || formatFromFilename(filename) || `auto`,\n    }\n  } else if (!sourceMetadata.format) {\n    sourceMetadata.format = formatFromFilename(filename)\n  }\n\n  const formats = new Set<ImageFormat>(args.formats)\n\n  if (formats.size === 0 || formats.has(`auto`) || formats.has(``)) {\n    formats.delete(`auto`)\n    formats.delete(``)\n    formats.add(sourceMetadata.format)\n  }\n\n  if (formats.has(`jpg`) && formats.has(`png`)) {\n    reporter.warn(\n      `[${pluginName}] Specifying both 'jpg' and 'png' formats is not supported. Using 'auto' instead`\n    )\n    if (sourceMetadata.format === `jpg`) {\n      formats.delete(`png`)\n    } else {\n      formats.delete(`jpg`)\n    }\n  }\n\n  const imageSizes = calculateImageSizes({ ...args, sourceMetadata })\n\n  const result: IGatsbyImageData[\"images\"] = {\n    sources: [],\n  }\n\n  let sizes = args.sizes\n  if (!sizes) {\n    sizes = getSizes(imageSizes.presentationWidth, layout)\n  }\n\n  formats.forEach(format => {\n    const images = imageSizes.sizes\n      .map(size => {\n        const imageSrc = generateImageSource(\n          filename,\n          size,\n          Math.round(size / imageSizes.aspectRatio),\n          format,\n          fit,\n          options\n        )\n        if (\n          !imageSrc?.width ||\n          !imageSrc.height ||\n          !imageSrc.src ||\n          !imageSrc.format\n        ) {\n          reporter.warn(\n            `[${pluginName}] The resolver for image ${filename} returned an invalid value.`\n          )\n          return undefined\n        }\n        return imageSrc\n      })\n      .filter(Boolean)\n\n    if (format === `jpg` || format === `png` || format === `auto`) {\n      const unscaled =\n        images.find(img => img.width === imageSizes.unscaledWidth) || images[0]\n\n      if (unscaled) {\n        result.fallback = {\n          src: unscaled.src,\n          srcSet: getSrcSet(images),\n          sizes,\n        }\n      }\n    } else {\n      result.sources?.push({\n        srcSet: getSrcSet(images),\n        sizes,\n        type: `image/${format}`,\n      })\n    }\n  })\n\n  const imageProps: Partial<IGatsbyImageData> = {\n    images: result,\n    layout,\n    backgroundColor,\n  }\n\n  if (placeholderURL) {\n    imageProps.placeholder = { fallback: placeholderURL }\n  }\n\n  switch (layout) {\n    case `fixed`:\n      imageProps.width = imageSizes.presentationWidth\n      imageProps.height = imageSizes.presentationHeight\n      break\n\n    case `fullWidth`:\n      imageProps.width = 1\n      imageProps.height = 1 / imageSizes.aspectRatio\n      break\n\n    case `constrained`:\n      imageProps.width = args.width || imageSizes.presentationWidth || 1\n      imageProps.height = (imageProps.width || 1) / imageSizes.aspectRatio\n  }\n\n  return imageProps as IGatsbyImageData\n}\n\nconst dedupeAndSortDensities = (values: Array<number>): Array<number> =>\n  Array.from(new Set([1, ...values])).sort(sortNumeric)\n\nexport function calculateImageSizes(args: IImageSizeArgs): IImageSizes {\n  const {\n    width,\n    height,\n    filename,\n    layout = `constrained`,\n    sourceMetadata: imgDimensions,\n    reporter = { warn },\n    breakpoints = DEFAULT_BREAKPOINTS,\n  } = args\n\n  // check that all dimensions provided are positive\n  const userDimensions = { width, height }\n  const erroneousUserDimensions = Object.entries(userDimensions).filter(\n    ([_, size]) => typeof size === `number` && size < 1\n  )\n  if (erroneousUserDimensions.length) {\n    throw new Error(\n      `Specified dimensions for images must be positive numbers (> 0). Problem dimensions you have are ${erroneousUserDimensions\n        .map(dim => dim.join(`: `))\n        .join(`, `)}`\n    )\n  }\n\n  if (layout === `fixed`) {\n    return fixedImageSizes(args)\n  } else if (layout === `constrained`) {\n    return responsiveImageSizes(args)\n  } else if (layout === `fullWidth`) {\n    return responsiveImageSizes({ breakpoints, ...args })\n  } else {\n    reporter.warn(\n      `No valid layout was provided for the image at ${filename}. Valid image layouts are fixed, fullWidth, and constrained. Found ${layout}`\n    )\n    return {\n      sizes: [imgDimensions.width],\n      presentationWidth: imgDimensions.width,\n      presentationHeight: imgDimensions.height,\n      aspectRatio: imgDimensions.width / imgDimensions.height,\n      unscaledWidth: imgDimensions.width,\n    }\n  }\n}\nexport function fixedImageSizes({\n  filename,\n  sourceMetadata: imgDimensions,\n  width,\n  height,\n  fit = `cover`,\n  outputPixelDensities = DEFAULT_PIXEL_DENSITIES,\n  reporter = { warn },\n}: IImageSizeArgs): IImageSizes {\n  let aspectRatio = imgDimensions.width / imgDimensions.height\n  // Sort, dedupe and ensure there's a 1\n  const densities = dedupeAndSortDensities(outputPixelDensities)\n\n  // If both are provided then we need to check the fit\n  if (width && height) {\n    const calculated = getDimensionsAndAspectRatio(imgDimensions, {\n      width,\n      height,\n      fit,\n    })\n    width = calculated.width\n    height = calculated.height\n    aspectRatio = calculated.aspectRatio\n  }\n\n  if (!width) {\n    if (!height) {\n      width = DEFAULT_FIXED_WIDTH\n    } else {\n      width = Math.round(height * aspectRatio)\n    }\n  } else if (!height) {\n    height = Math.round(width / aspectRatio)\n  }\n\n  const originalWidth = width // will use this for presentationWidth, don't want to lose it\n  const isTopSizeOverriden =\n    imgDimensions.width < width || imgDimensions.height < (height as number)\n\n  // If the image is smaller than requested, warn the user that it's being processed as such\n  // print out this message with the necessary information before we overwrite it for sizing\n  if (isTopSizeOverriden) {\n    const fixedDimension = imgDimensions.width < width ? `width` : `height`\n    reporter.warn(`\nThe requested ${fixedDimension} \"${\n      fixedDimension === `width` ? width : height\n    }px\" for the image ${filename} was larger than the actual image ${fixedDimension} of ${\n      imgDimensions[fixedDimension]\n    }px. If possible, replace the current image with a larger one.`)\n\n    if (fixedDimension === `width`) {\n      width = imgDimensions.width\n      height = Math.round(width / aspectRatio)\n    } else {\n      height = imgDimensions.height\n      width = height * aspectRatio\n    }\n  }\n\n  const sizes = densities\n    .filter(size => size >= 1) // remove smaller densities because fixed images don't need them\n    .map(density => Math.round(density * (width as number)))\n    .filter(size => size <= imgDimensions.width)\n\n  return {\n    sizes,\n    aspectRatio,\n    presentationWidth: originalWidth,\n    presentationHeight: Math.round(originalWidth / aspectRatio),\n    unscaledWidth: width,\n  }\n}\n\nexport function responsiveImageSizes({\n  sourceMetadata: imgDimensions,\n  width,\n  height,\n  fit = `cover`,\n  outputPixelDensities = DEFAULT_PIXEL_DENSITIES,\n  breakpoints,\n  layout,\n}: IImageSizeArgs): IImageSizes {\n  let sizes\n  let aspectRatio = imgDimensions.width / imgDimensions.height\n  // Sort, dedupe and ensure there's a 1\n  const densities = dedupeAndSortDensities(outputPixelDensities)\n\n  // If both are provided then we need to check the fit\n  if (width && height) {\n    const calculated = getDimensionsAndAspectRatio(imgDimensions, {\n      width,\n      height,\n      fit,\n    })\n    width = calculated.width\n    height = calculated.height\n    aspectRatio = calculated.aspectRatio\n  }\n\n  // Case 1: width of height were passed in, make sure it isn't larger than the actual image\n  width = width && Math.min(width, imgDimensions.width)\n  height = height && Math.min(height, imgDimensions.height)\n\n  // Case 2: neither width or height were passed in, use default size\n  if (!width && !height) {\n    width = Math.min(DEFAULT_FLUID_WIDTH, imgDimensions.width)\n    height = width / aspectRatio\n  }\n\n  // if it still hasn't been found, calculate width from the derived height.\n  // TS isn't smart enough to realise the type for height has been narrowed here\n  if (!width) {\n    width = (height as number) * aspectRatio\n  }\n\n  const originalWidth = width\n  const isTopSizeOverriden =\n    imgDimensions.width < width || imgDimensions.height < (height as number)\n  if (isTopSizeOverriden) {\n    width = imgDimensions.width\n    height = imgDimensions.height\n  }\n\n  width = Math.round(width)\n\n  if (breakpoints?.length > 0) {\n    sizes = breakpoints.filter(size => size <= imgDimensions.width)\n\n    // If a larger breakpoint has been filtered-out, add the actual image width instead\n    if (\n      sizes.length < breakpoints.length &&\n      !sizes.includes(imgDimensions.width)\n    ) {\n      sizes.push(imgDimensions.width)\n    }\n  } else {\n    sizes = densities.map(density => Math.round(density * (width as number)))\n    sizes = sizes.filter(size => size <= imgDimensions.width)\n  }\n\n  // ensure that the size passed in is included in the final output\n  if (layout === `constrained` && !sizes.includes(width)) {\n    sizes.push(width)\n  }\n  sizes = sizes.sort(sortNumeric)\n  return {\n    sizes,\n    aspectRatio,\n    presentationWidth: originalWidth,\n    presentationHeight: Math.round(originalWidth / aspectRatio),\n    unscaledWidth: width,\n  }\n}\n\nexport function getDimensionsAndAspectRatio(\n  dimensions,\n  options\n): { width: number; height: number; aspectRatio: number } {\n  // Calculate the eventual width/height of the image.\n  const imageAspectRatio = dimensions.width / dimensions.height\n\n  let width = options.width\n  let height = options.height\n\n  switch (options.fit) {\n    case `fill`: {\n      width = options.width ? options.width : dimensions.width\n      height = options.height ? options.height : dimensions.height\n      break\n    }\n    case `inside`: {\n      const widthOption = options.width\n        ? options.width\n        : Number.MAX_SAFE_INTEGER\n      const heightOption = options.height\n        ? options.height\n        : Number.MAX_SAFE_INTEGER\n\n      width = Math.min(widthOption, Math.round(heightOption * imageAspectRatio))\n      height = Math.min(\n        heightOption,\n        Math.round(widthOption / imageAspectRatio)\n      )\n      break\n    }\n    case `outside`: {\n      const widthOption = options.width ? options.width : 0\n      const heightOption = options.height ? options.height : 0\n\n      width = Math.max(widthOption, Math.round(heightOption * imageAspectRatio))\n      height = Math.max(\n        heightOption,\n        Math.round(widthOption / imageAspectRatio)\n      )\n      break\n    }\n\n    default: {\n      if (options.width && !options.height) {\n        width = options.width\n        height = Math.round(options.width / imageAspectRatio)\n      }\n\n      if (options.height && !options.width) {\n        width = Math.round(options.height * imageAspectRatio)\n        height = options.height\n      }\n    }\n  }\n\n  return {\n    width,\n    height,\n    aspectRatio: width / height,\n  }\n}\n","/* global GATSBY___IMAGE */\nimport { generateImageData, EVERY_BREAKPOINT } from \"../image-utils\"\nimport type { CSSProperties, HTMLAttributes, ImgHTMLAttributes } from \"react\"\nimport type { Node } from \"gatsby\"\nimport type { PlaceholderProps } from \"./placeholder\"\nimport type { MainImageProps } from \"./main-image\"\nimport type { IGatsbyImageData } from \"./gatsby-image.browser\"\nimport type {\n  IGatsbyImageHelperArgs,\n  Layout,\n  IImage,\n  ImageFormat,\n} from \"../image-utils\"\n\n// Native lazy-loading support: https://addyosmani.com/blog/lazy-loading/\nexport const hasNativeLazyLoadSupport = (): boolean =>\n  typeof HTMLImageElement !== `undefined` &&\n  `loading` in HTMLImageElement.prototype\n\nexport function gatsbyImageIsInstalled(): boolean {\n  return typeof GATSBY___IMAGE !== `undefined` && GATSBY___IMAGE\n}\n\nexport type IGatsbyImageDataParent<T = never> = T & {\n  gatsbyImageData: IGatsbyImageData\n}\nexport type IGatsbyImageParent<T = never> = T & {\n  gatsbyImage: IGatsbyImageData\n}\nexport type FileNode = Partial<Node> & {\n  childImageSharp?: IGatsbyImageDataParent<Partial<Node>>\n}\n\nconst isGatsbyImageData = (\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  node: IGatsbyImageData | any\n): node is IGatsbyImageData =>\n  //  check for a deep prop to be sure this is a valid gatsbyImageData object\n  Boolean(node?.images?.fallback?.src)\n\nconst isGatsbyImageDataParent = <T>(\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  node: IGatsbyImageDataParent<T> | any\n): node is IGatsbyImageDataParent<T> => Boolean(node?.gatsbyImageData)\n\nconst isGatsbyImageParent = <T>(\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  node: IGatsbyImageParent<T> | any\n): node is IGatsbyImageParent<T> => Boolean(node?.gatsbyImage)\n\nexport type ImageDataLike =\n  | FileNode\n  | IGatsbyImageDataParent\n  | IGatsbyImageParent\n  | IGatsbyImageData\n\nexport const getImage = (\n  node: ImageDataLike | null\n): IGatsbyImageData | undefined => {\n  // This checks both for gatsbyImageData and gatsbyImage\n  if (isGatsbyImageData(node)) {\n    return node\n  }\n  // gatsbyImageData GraphQL field\n  if (isGatsbyImageDataParent(node)) {\n    return node.gatsbyImageData\n  }\n  // gatsbyImage GraphQL field for Gatsby's Image CDN service\n  if (isGatsbyImageParent(node)) {\n    return node.gatsbyImage\n  }\n  return node?.childImageSharp?.gatsbyImageData\n}\n\nexport const getSrc = (node: ImageDataLike): string | undefined =>\n  getImage(node)?.images?.fallback?.src\n\nexport const getSrcSet = (node: ImageDataLike): string | undefined =>\n  getImage(node)?.images?.fallback?.srcSet\n\nexport function getWrapperProps(\n  width: number,\n  height: number,\n  layout: Layout\n): Pick<HTMLAttributes<HTMLElement>, \"className\" | \"style\"> & {\n  \"data-gatsby-image-wrapper\": string\n} {\n  const wrapperStyle: CSSProperties = {}\n\n  let className = `gatsby-image-wrapper`\n\n  // If the plugin isn't installed we need to apply the styles inline\n  if (!gatsbyImageIsInstalled()) {\n    wrapperStyle.position = `relative`\n    wrapperStyle.overflow = `hidden`\n  }\n\n  if (layout === `fixed`) {\n    wrapperStyle.width = width\n    wrapperStyle.height = height\n  } else if (layout === `constrained`) {\n    if (!gatsbyImageIsInstalled()) {\n      wrapperStyle.display = `inline-block`\n      wrapperStyle.verticalAlign = `top`\n    }\n    className = `gatsby-image-wrapper gatsby-image-wrapper-constrained`\n  }\n\n  return {\n    className,\n    \"data-gatsby-image-wrapper\": ``,\n    style: wrapperStyle,\n  }\n}\n\nexport interface IUrlBuilderArgs<OptionsType> {\n  width: number\n  height: number\n  baseUrl: string\n  format: ImageFormat\n  options: OptionsType\n}\nexport interface IGetImageDataArgs<OptionsType = Record<string, unknown>> {\n  baseUrl: string\n  /**\n   * For constrained and fixed images, the size of the image element\n   */\n  width?: number\n  height?: number\n  /**\n   * If available, pass the source image width and height\n   */\n  sourceWidth?: number\n  sourceHeight?: number\n  /**\n   * If only one dimension is passed, then this will be used to calculate the other.\n   */\n  aspectRatio?: number\n  layout?: Layout\n  /**\n   * Returns a URL based on the passed arguments. Should be a pure function\n   */\n  urlBuilder: (args: IUrlBuilderArgs<OptionsType>) => string\n\n  /**\n   * Should be a data URI\n   */\n  placeholderURL?: string\n  backgroundColor?: string\n  /**\n   * Used in error messages etc\n   */\n  pluginName?: string\n\n  /**\n   * If you do not support auto-format, pass an array of image types here\n   */\n  formats?: Array<ImageFormat>\n\n  breakpoints?: Array<number>\n\n  /**\n   * Passed to the urlBuilder function\n   */\n  options?: OptionsType\n}\n\n/**\n * Use this hook to generate gatsby-plugin-image data in the browser.\n */\nexport function getImageData<OptionsType>({\n  baseUrl,\n  urlBuilder,\n  sourceWidth,\n  sourceHeight,\n  pluginName = `getImageData`,\n  formats = [`auto`],\n  breakpoints,\n  options,\n  ...props\n}: IGetImageDataArgs<OptionsType>): IGatsbyImageData {\n  if (\n    !breakpoints?.length &&\n    (props.layout === `fullWidth` || (props.layout as string) === `FULL_WIDTH`)\n  ) {\n    breakpoints = EVERY_BREAKPOINT\n  }\n  const generateImageSource = (\n    baseUrl: string,\n    width: number,\n    height?: number,\n    format?: ImageFormat\n  ): IImage => {\n    return {\n      width,\n      height,\n      format,\n      src: urlBuilder({ baseUrl, width, height, options, format }),\n    }\n  }\n\n  const sourceMetadata: IGatsbyImageHelperArgs[\"sourceMetadata\"] = {\n    width: sourceWidth,\n    height: sourceHeight,\n    format: `auto`,\n  }\n\n  const args: IGatsbyImageHelperArgs = {\n    ...props,\n    pluginName,\n    generateImageSource,\n    filename: baseUrl,\n    formats,\n    breakpoints,\n    sourceMetadata,\n  }\n  return generateImageData(args)\n}\n\nexport function getMainProps(\n  isLoading: boolean,\n  isLoaded: boolean,\n  images: IGatsbyImageData[\"images\"],\n  loading?: \"eager\" | \"lazy\",\n  style: CSSProperties = {}\n): Partial<MainImageProps> {\n  // fallback when it's not configured in gatsby-config.\n  if (!gatsbyImageIsInstalled()) {\n    style = {\n      height: `100%`,\n      left: 0,\n      position: `absolute`,\n      top: 0,\n      transform: `translateZ(0)`,\n      transition: `opacity 250ms linear`,\n      width: `100%`,\n      willChange: `opacity`,\n      ...style,\n    }\n  }\n\n  const result = {\n    ...images,\n    loading,\n    shouldLoad: isLoading,\n    \"data-main-image\": ``,\n    style: {\n      ...style,\n      opacity: isLoaded ? 1 : 0,\n    },\n  }\n\n  return result\n}\n\nexport type PlaceholderImageAttrs = ImgHTMLAttributes<HTMLImageElement> &\n  Pick<PlaceholderProps, \"sources\" | \"fallback\"> & {\n    \"data-placeholder-image\"?: string\n  }\n\nexport function getPlaceholderProps(\n  placeholder: PlaceholderImageAttrs | undefined,\n  isLoaded: boolean,\n  layout: Layout,\n  width?: number,\n  height?: number,\n  backgroundColor?: string,\n  objectFit?: CSSProperties[\"objectFit\"],\n  objectPosition?: CSSProperties[\"objectPosition\"]\n): PlaceholderImageAttrs {\n  const wrapperStyle: CSSProperties = {}\n\n  if (backgroundColor) {\n    wrapperStyle.backgroundColor = backgroundColor\n\n    if (layout === `fixed`) {\n      wrapperStyle.width = width\n      wrapperStyle.height = height\n      wrapperStyle.backgroundColor = backgroundColor\n      wrapperStyle.position = `relative`\n    } else if (layout === `constrained`) {\n      wrapperStyle.position = `absolute`\n      wrapperStyle.top = 0\n      wrapperStyle.left = 0\n      wrapperStyle.bottom = 0\n      wrapperStyle.right = 0\n    } else if (layout === `fullWidth`) {\n      wrapperStyle.position = `absolute`\n      wrapperStyle.top = 0\n      wrapperStyle.left = 0\n      wrapperStyle.bottom = 0\n      wrapperStyle.right = 0\n    }\n  }\n\n  if (objectFit) {\n    wrapperStyle.objectFit = objectFit\n  }\n\n  if (objectPosition) {\n    wrapperStyle.objectPosition = objectPosition\n  }\n  const result: PlaceholderImageAttrs = {\n    ...placeholder,\n    \"aria-hidden\": true,\n    \"data-placeholder-image\": ``,\n    style: {\n      opacity: isLoaded ? 0 : 1,\n      transition: `opacity 500ms linear`,\n      ...wrapperStyle,\n    },\n  }\n\n  // fallback when it's not configured in gatsby-config.\n  if (!gatsbyImageIsInstalled()) {\n    result.style = {\n      height: `100%`,\n      left: 0,\n      position: `absolute`,\n      top: 0,\n      width: `100%`,\n    }\n  }\n\n  return result\n}\n\nexport interface IArtDirectedImage {\n  media: string\n  image: IGatsbyImageData\n}\n\n/**\n * Generate a Gatsby image data object with multiple, art-directed images that display at different\n * resolutions.\n *\n * @param defaultImage The image displayed when no media query matches.\n * It is also used for all other settings applied to the image, such as width, height and layout.\n * You should pass a className to the component with media queries to adjust the size of the container,\n * as this cannot be adjusted automatically.\n * @param artDirected Array of objects which each contains a `media` string which is a media query\n * such as `(min-width: 320px)`, and the image object to use when that query matches.\n */\nexport function withArtDirection(\n  defaultImage: IGatsbyImageData,\n  artDirected: Array<IArtDirectedImage>\n): IGatsbyImageData {\n  const { images, placeholder, ...props } = defaultImage\n  const output: IGatsbyImageData = {\n    ...props,\n    images: {\n      ...images,\n      sources: [],\n    },\n    placeholder: placeholder && {\n      ...placeholder,\n      sources: [],\n    },\n  }\n\n  artDirected.forEach(({ media, image }) => {\n    if (!media) {\n      if (process.env.NODE_ENV === `development`) {\n        console.warn(\n          \"[gatsby-plugin-image] All art-directed images passed to must have a value set for `media`. Skipping.\"\n        )\n      }\n      return\n    }\n\n    if (\n      image.layout !== defaultImage.layout &&\n      process.env.NODE_ENV === `development`\n    ) {\n      console.warn(\n        `[gatsby-plugin-image] Mismatched image layout: expected \"${defaultImage.layout}\" but received \"${image.layout}\". All art-directed images use the same layout as the default image`\n      )\n    }\n\n    output.images.sources.push(\n      ...image.images.sources.map(source => {\n        return { ...source, media }\n      }),\n      {\n        media,\n        srcSet: image.images.fallback.srcSet,\n      }\n    )\n\n    if (!output.placeholder) {\n      return\n    }\n\n    output.placeholder.sources.push({\n      media,\n      srcSet: image.placeholder.fallback,\n    })\n  })\n  output.images.sources.push(...images.sources)\n  if (placeholder?.sources) {\n    output.placeholder?.sources.push(...placeholder.sources)\n  }\n  return output\n}\n","import React, { Fragment, FunctionComponent, PropsWithChildren } from \"react\"\nimport terserMacro from \"../../macros/terser.macro\"\nimport { Layout } from \"../image-utils\"\n\nexport interface ILayoutWrapperProps {\n  layout: Layout\n  width: number\n  height: number\n}\n\nconst NativeScriptLoading: FunctionComponent = () => (\n  <script\n    type=\"module\"\n    dangerouslySetInnerHTML={{\n      __html: terserMacro`\nconst hasNativeLazyLoadSupport = typeof HTMLImageElement !== \"undefined\" && \"loading\" in HTMLImageElement.prototype;\nif (hasNativeLazyLoadSupport) {\n  const gatsbyImages = document.querySelectorAll('img[data-main-image]');\n  for (let mainImage of gatsbyImages) {\n    if (mainImage.dataset.src) {\n      mainImage.setAttribute('src', mainImage.dataset.src)\n      mainImage.removeAttribute('data-src')\n    }\n    if (mainImage.dataset.srcset) {\n      mainImage.setAttribute('srcset', mainImage.dataset.srcset)\n      mainImage.removeAttribute('data-srcset')\n    }\n\n    const sources = mainImage.parentNode.querySelectorAll('source[data-srcset]');\n    for (let source of sources) {\n      source.setAttribute('srcset', source.dataset.srcset)\n      source.removeAttribute('data-srcset')\n    }\n\n    if (mainImage.complete) {\n      mainImage.style.opacity = 1;\n\n      // also hide the placeholder\n      mainImage.parentNode.parentNode.querySelector('[data-placeholder-image]').style.opacity = 0;\n    }\n  }\n}\n`,\n    }}\n  />\n)\n\nexport function getSizer(\n  layout: Layout,\n  width: number,\n  height: number\n): string {\n  let sizer = ``\n  if (layout === `fullWidth`) {\n    sizer = `<div aria-hidden=\"true\" style=\"padding-top: ${\n      (height / width) * 100\n    }%;\"></div>`\n  }\n\n  if (layout === `constrained`) {\n    sizer = `<div style=\"max-width: ${width}px; display: block;\"><img alt=\"\" role=\"presentation\" aria-hidden=\"true\" src=\"data:image/svg+xml;charset=utf-8,%3Csvg%20height='${height}'%20width='${width}'%20xmlns='http://www.w3.org/2000/svg'%20version='1.1'%3E%3C/svg%3E\" style=\"max-width: 100%; display: block; position: static;\"></div>`\n  }\n\n  return sizer\n}\n\nconst Sizer: FunctionComponent<ILayoutWrapperProps> = function Sizer({\n  layout,\n  width,\n  height,\n}) {\n  if (layout === `fullWidth`) {\n    return (\n      <div aria-hidden style={{ paddingTop: `${(height / width) * 100}%` }} />\n    )\n  }\n\n  if (layout === `constrained`) {\n    return (\n      <div style={{ maxWidth: width, display: `block` }}>\n        <img\n          alt=\"\"\n          role=\"presentation\"\n          aria-hidden=\"true\"\n          src={`data:image/svg+xml;charset=utf-8,%3Csvg%20height='${height}'%20width='${width}'%20xmlns='http://www.w3.org/2000/svg'%20version='1.1'%3E%3C/svg%3E`}\n          style={{\n            maxWidth: `100%`,\n            display: `block`,\n            position: `static`,\n          }}\n        />\n      </div>\n    )\n  }\n\n  return null\n}\n\nexport const LayoutWrapper: FunctionComponent<\n  PropsWithChildren<ILayoutWrapperProps>\n> = function LayoutWrapper({ children, ...props }) {\n  return (\n    <Fragment>\n      <Sizer {...props} />\n      {children}\n\n      {SERVER ? <NativeScriptLoading /> : null}\n    </Fragment>\n  )\n}\n","import React, { FunctionComponent, ImgHTMLAttributes } from \"react\"\nimport * as PropTypes from \"prop-types\"\n\nexport interface IResponsiveImageProps {\n  sizes?: string\n  srcSet: string\n}\n\nexport type SourceProps = IResponsiveImageProps &\n  (\n    | {\n        media: string\n        type?: string\n      }\n    | {\n        media?: string\n        type: string\n      }\n  )\n\ntype FallbackProps = { src: string } & Partial<IResponsiveImageProps>\n\ntype ImageProps = ImgHTMLAttributes<HTMLImageElement> & {\n  src: string\n  alt: string\n  shouldLoad: boolean\n}\n\nexport type PictureProps = ImgHTMLAttributes<HTMLImageElement> & {\n  fallback?: FallbackProps\n  sources?: Array<SourceProps>\n  alt: string\n  shouldLoad?: boolean\n}\n\nconst Image: FunctionComponent<ImageProps> = function Image({\n  src,\n  srcSet,\n  loading,\n  alt = ``,\n  shouldLoad,\n  ...props\n}) {\n  return (\n    <img\n      {...props}\n      decoding=\"async\"\n      loading={loading}\n      src={shouldLoad ? src : undefined}\n      data-src={!shouldLoad ? src : undefined}\n      srcSet={shouldLoad ? srcSet : undefined}\n      data-srcset={!shouldLoad ? srcSet : undefined}\n      alt={alt}\n    />\n  )\n}\n\nexport const Picture: React.FC<PictureProps> = function Picture({\n  fallback,\n  sources = [],\n  shouldLoad = true,\n  ...props\n}) {\n  const sizes = props.sizes || fallback?.sizes\n  const fallbackImage = (\n    <Image {...props} {...fallback} sizes={sizes} shouldLoad={shouldLoad} />\n  )\n\n  if (!sources.length) {\n    return fallbackImage\n  }\n\n  return (\n    <picture>\n      {sources.map(({ media, srcSet, type }) => (\n        <source\n          key={`${media}-${type}-${srcSet}`}\n          type={type}\n          media={media}\n          srcSet={shouldLoad ? srcSet : undefined}\n          data-srcset={!shouldLoad ? srcSet : undefined}\n          sizes={sizes}\n        />\n      ))}\n      {fallbackImage}\n    </picture>\n  )\n}\n\nImage.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  sizes: PropTypes.string,\n  srcSet: PropTypes.string,\n  shouldLoad: PropTypes.bool,\n}\n\nPicture.displayName = `Picture`\nPicture.propTypes = {\n  alt: PropTypes.string.isRequired,\n  shouldLoad: PropTypes.bool,\n  fallback: PropTypes.exact({\n    src: PropTypes.string.isRequired,\n    srcSet: PropTypes.string,\n    sizes: PropTypes.string,\n  }),\n  sources: PropTypes.arrayOf(\n    PropTypes.oneOfType([\n      PropTypes.exact({\n        media: PropTypes.string.isRequired,\n        type: PropTypes.string,\n        sizes: PropTypes.string,\n        srcSet: PropTypes.string.isRequired,\n      }),\n      PropTypes.exact({\n        media: PropTypes.string,\n        type: PropTypes.string.isRequired,\n        sizes: PropTypes.string,\n        srcSet: PropTypes.string.isRequired,\n      }),\n    ])\n  ),\n}\n","import React, { FunctionComponent, ImgHTMLAttributes } from \"react\"\nimport * as PropTypes from \"prop-types\"\nimport { Picture, SourceProps } from \"./picture\"\n\nexport type PlaceholderProps = ImgHTMLAttributes<HTMLImageElement> & {\n  fallback?: string\n  sources?: Array<SourceProps>\n}\n\nexport const Placeholder: FunctionComponent<PlaceholderProps> =\n  function Placeholder({ fallback, ...props }) {\n    if (fallback) {\n      return (\n        <Picture\n          {...props}\n          fallback={{\n            src: fallback,\n          }}\n          aria-hidden\n          alt=\"\"\n        />\n      )\n    } else {\n      return <div {...props}></div>\n    }\n  }\n\nPlaceholder.displayName = `Placeholder`\nPlaceholder.propTypes = {\n  fallback: PropTypes.string,\n  sources: Picture.propTypes?.sources,\n  alt: function (props, propName, componentName): Error | null {\n    if (!props[propName]) {\n      return null\n    }\n\n    return new Error(\n      `Invalid prop \\`${propName}\\` supplied to \\`${componentName}\\`. Validation failed.`\n    )\n  },\n}\n","import React from \"react\"\nimport { Picture, PictureProps } from \"./picture\"\n\nexport type MainImageProps = PictureProps\n\nexport const MainImage: React.FC<PictureProps> = function MainImage(props) {\n  return (\n    <>\n      <Picture {...props} />\n      <noscript>\n        <Picture {...props} shouldLoad={true} />\n      </noscript>\n    </>\n  )\n}\n\nMainImage.displayName = `MainImage`\nMainImage.propTypes = Picture.propTypes\n","import React from \"react\"\nimport { getWrapperProps, getMainProps, getPlaceholderProps } from \"./hooks\"\nimport { Placeholder } from \"./placeholder\"\nimport { MainImage, MainImageProps } from \"./main-image\"\nimport { LayoutWrapper } from \"./layout-wrapper\"\nimport PropTypes from \"prop-types\"\nimport type { FunctionComponent, WeakValidationMap } from \"react\"\nimport type { GatsbyImageProps, IGatsbyImageData } from \"./gatsby-image.browser\"\n\nconst removeNewLines = (str: string): string => str.replace(/\\n/g, ``)\n\nexport const GatsbyImage: FunctionComponent<GatsbyImageProps> =\n  function GatsbyImage({\n    as = `div`,\n    className,\n    class: preactClass,\n    style,\n    image,\n    loading = `lazy`,\n    imgClassName,\n    imgStyle,\n    backgroundColor,\n    objectFit,\n    objectPosition,\n    ...props\n  }) {\n    if (!image) {\n      console.warn(`[gatsby-plugin-image] Missing image prop`)\n      return null\n    }\n\n    if (preactClass) {\n      className = preactClass\n    }\n\n    imgStyle = {\n      objectFit,\n      objectPosition,\n      backgroundColor,\n      ...imgStyle,\n    }\n\n    const {\n      width,\n      height,\n      layout,\n      images,\n      placeholder,\n      backgroundColor: placeholderBackgroundColor,\n    } = image\n\n    const {\n      style: wStyle,\n      className: wClass,\n      ...wrapperProps\n    } = getWrapperProps(width, height, layout)\n\n    const cleanedImages: IGatsbyImageData[\"images\"] = {\n      fallback: undefined,\n      sources: [],\n    }\n    if (images.fallback) {\n      cleanedImages.fallback = {\n        ...images.fallback,\n        srcSet: images.fallback.srcSet\n          ? removeNewLines(images.fallback.srcSet)\n          : undefined,\n      }\n    }\n\n    if (images.sources) {\n      cleanedImages.sources = images.sources.map(source => {\n        return {\n          ...source,\n          srcSet: removeNewLines(source.srcSet),\n        }\n      })\n    }\n\n    return React.createElement(\n      as,\n      {\n        ...wrapperProps,\n        style: {\n          ...wStyle,\n          ...style,\n          backgroundColor,\n        },\n        className: `${wClass}${className ? ` ${className}` : ``}`,\n      },\n      <LayoutWrapper layout={layout} width={width} height={height}>\n        <Placeholder\n          {...getPlaceholderProps(\n            placeholder,\n            false,\n            layout,\n            width,\n            height,\n            placeholderBackgroundColor,\n            objectFit,\n            objectPosition\n          )}\n        />\n\n        <MainImage\n          data-gatsby-image-ssr=\"\"\n          className={imgClassName}\n          {...(props as Omit<\n            MainImageProps,\n            \"images\" | \"fallback\" | \"onError\" | \"onLoad\"\n          >)}\n          // When eager is set we want to start the isLoading state on true (we want to load the img without react)\n          {...getMainProps(\n            loading === `eager`,\n            false,\n            cleanedImages,\n            loading,\n            imgStyle\n          )}\n        />\n      </LayoutWrapper>\n    )\n  }\n\nexport const altValidator: PropTypes.Validator<string> = (\n  props: GatsbyImageProps,\n  propName,\n  componentName,\n  ...rest\n): Error | undefined => {\n  if (!props.alt && props.alt !== ``) {\n    return new Error(\n      `The \"alt\" prop is required in ${componentName}. If the image is purely presentational then pass an empty string: e.g. alt=\"\". Learn more: https://a11y-style-guide.com/style-guide/section-media.html`\n    )\n  }\n\n  return PropTypes.string(props, propName, componentName, ...rest)\n}\n\nexport const propTypes = {\n  image: PropTypes.object.isRequired,\n  alt: altValidator,\n} as WeakValidationMap<GatsbyImageProps>\n","import {\n  createElement,\n  memo,\n  useMemo,\n  useEffect,\n  useLayoutEffect,\n  useRef,\n} from \"react\"\nimport {\n  getWrapperProps,\n  gatsbyImageIsInstalled,\n  hasNativeLazyLoadSupport,\n} from \"./hooks\"\nimport { getSizer } from \"./layout-wrapper\"\nimport { propTypes } from \"./gatsby-image.server\"\nimport type {\n  FC,\n  ElementType,\n  FunctionComponent,\n  ImgHTMLAttributes,\n  CSSProperties,\n  ReactEventHandler,\n} from \"react\"\nimport type { renderImageToString } from \"./lazy-hydrate\"\nimport type { PlaceholderProps } from \"./placeholder\"\nimport type { MainImageProps } from \"./main-image\"\nimport type { Layout } from \"../image-utils\"\n\nconst imageCache = new Set<string>()\nlet renderImageToStringPromise\nlet renderImage: typeof renderImageToString | undefined\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport interface GatsbyImageProps\n  extends Omit<\n    ImgHTMLAttributes<HTMLImageElement>,\n    \"placeholder\" | \"onLoad\" | \"src\" | \"srcSet\" | \"width\" | \"height\"\n  > {\n  alt: string\n  as?: ElementType\n  className?: string\n  class?: string\n  imgClassName?: string\n  image: IGatsbyImageData\n  imgStyle?: CSSProperties\n  backgroundColor?: string\n  objectFit?: CSSProperties[\"objectFit\"]\n  objectPosition?: CSSProperties[\"objectPosition\"]\n  onLoad?: (props: { wasCached: boolean }) => void\n  onError?: ReactEventHandler<HTMLImageElement>\n  onStartLoad?: (props: { wasCached: boolean }) => void\n}\n\nexport interface IGatsbyImageData {\n  layout: Layout\n  width: number\n  height: number\n  backgroundColor?: string\n  images: Pick<MainImageProps, \"sources\" | \"fallback\">\n  placeholder?: Pick<PlaceholderProps, \"sources\" | \"fallback\">\n}\n\nconst GatsbyImageHydrator: FC<GatsbyImageProps> = function GatsbyImageHydrator({\n  as = `div`,\n  image,\n  style,\n  backgroundColor,\n  className,\n  class: preactClass,\n  onStartLoad,\n  onLoad,\n  onError,\n  ...props\n}) {\n  const { width, height, layout } = image\n  const {\n    style: wStyle,\n    className: wClass,\n    ...wrapperProps\n  } = getWrapperProps(width, height, layout)\n  const root = useRef<HTMLElement>()\n  const cacheKey = useMemo(() => JSON.stringify(image.images), [image.images])\n\n  // Preact uses class instead of className so we need to check for both\n  if (preactClass) {\n    className = preactClass\n  }\n\n  const sizer = getSizer(layout, width, height)\n\n  useEffect(() => {\n    if (!renderImageToStringPromise) {\n      renderImageToStringPromise = import(`./lazy-hydrate`).then(\n        ({ renderImageToString, swapPlaceholderImage }) => {\n          renderImage = renderImageToString\n\n          return {\n            renderImageToString,\n            swapPlaceholderImage,\n          }\n        }\n      )\n    }\n\n    // The plugin image component is a bit special where if it's server-side rendered, we add extra script tags to support lazy-loading without\n    // In this case we stop hydration but fire the correct events.\n    const ssrImage = root.current.querySelector(\n      `[data-gatsby-image-ssr]`\n    ) as HTMLImageElement\n    if (ssrImage && hasNativeLazyLoadSupport()) {\n      if (ssrImage.complete) {\n        // Trigger onStartload and onLoad events\n        onStartLoad?.({\n          wasCached: true,\n        })\n        onLoad?.({\n          wasCached: true,\n        })\n\n        // remove ssr key for state updates but add delay to not fight with native code snippt of gatsby-ssr\n        setTimeout(() => {\n          ssrImage.removeAttribute(`data-gatsby-image-ssr`)\n        }, 0)\n      } else {\n        onStartLoad?.({\n          wasCached: true,\n        })\n\n        ssrImage.addEventListener(`load`, function onLoadListener() {\n          ssrImage.removeEventListener(`load`, onLoadListener)\n\n          onLoad?.({\n            wasCached: true,\n          })\n          // remove ssr key for state updates but add delay to not fight with native code snippt of gatsby-ssr\n          setTimeout(() => {\n            ssrImage.removeAttribute(`data-gatsby-image-ssr`)\n          }, 0)\n        })\n      }\n\n      imageCache.add(cacheKey)\n\n      return\n    }\n\n    if (renderImage && imageCache.has(cacheKey)) {\n      return\n    }\n\n    let animationFrame\n    let cleanupCallback\n    renderImageToStringPromise.then(\n      ({ renderImageToString, swapPlaceholderImage }) => {\n        if (!root.current) {\n          return\n        }\n\n        root.current.innerHTML = renderImageToString({\n          isLoading: true,\n          isLoaded: imageCache.has(cacheKey),\n          image,\n          ...props,\n        })\n\n        if (!imageCache.has(cacheKey)) {\n          animationFrame = requestAnimationFrame(() => {\n            if (root.current) {\n              cleanupCallback = swapPlaceholderImage(\n                root.current,\n                cacheKey,\n                imageCache,\n                style,\n                onStartLoad,\n                onLoad,\n                onError\n              )\n            }\n          })\n        }\n      }\n    )\n\n    // eslint-disable-next-line consistent-return\n    return (): void => {\n      if (animationFrame) {\n        cancelAnimationFrame(animationFrame)\n      }\n      if (cleanupCallback) {\n        cleanupCallback()\n      }\n    }\n  }, [image])\n\n  // useLayoutEffect is ran before React commits to the DOM. This allows us to make sure our HTML is using our cached image version\n  useLayoutEffect(() => {\n    if (imageCache.has(cacheKey) && renderImage) {\n      root.current.innerHTML = renderImage({\n        isLoading: imageCache.has(cacheKey),\n        isLoaded: imageCache.has(cacheKey),\n        image,\n        ...props,\n      })\n\n      // Trigger onStartload and onLoad events\n      onStartLoad?.({\n        wasCached: true,\n      })\n      onLoad?.({\n        wasCached: true,\n      })\n    }\n  }, [image])\n\n  // By keeping all props equal React will keep the component in the DOM\n  return createElement(as, {\n    ...wrapperProps,\n    style: {\n      ...wStyle,\n      ...style,\n      backgroundColor,\n    },\n    className: `${wClass}${className ? ` ${className}` : ``}`,\n    ref: root,\n    dangerouslySetInnerHTML: {\n      __html: sizer,\n    },\n    suppressHydrationWarning: true,\n  })\n}\n\nexport const GatsbyImage: FunctionComponent<GatsbyImageProps> = memo(\n  function GatsbyImage(props) {\n    if (!props.image) {\n      if (process.env.NODE_ENV === `development`) {\n        console.warn(`[gatsby-plugin-image] Missing image prop`)\n      }\n\n      return null\n    }\n\n    if (!gatsbyImageIsInstalled() && process.env.NODE_ENV === `development`) {\n      console.warn(\n        `[gatsby-plugin-image] You're missing out on some cool performance features. Please add \"gatsby-plugin-image\" to your gatsby-config.js`\n      )\n    }\n\n    return createElement(GatsbyImageHydrator, props)\n  }\n)\n\nGatsbyImage.propTypes = propTypes\nGatsbyImage.displayName = `GatsbyImage`\n","import React, { FunctionComponent, ReactElement } from \"react\"\nimport {\n  altValidator,\n  GatsbyImage as GatsbyImageServer,\n} from \"./gatsby-image.server\"\nimport { GatsbyImageProps, IGatsbyImageData } from \"./gatsby-image.browser\"\nimport PropTypes from \"prop-types\"\nimport { ISharpGatsbyImageArgs } from \"../image-utils\"\n\nexport interface IStaticImageProps\n  extends Omit<GatsbyImageProps, \"image\">,\n    Omit<ISharpGatsbyImageArgs, \"backgroundColor\"> {\n  src: string\n  filename?: string\n}\n\n// These values are added by Babel. Do not add them manually\ninterface IPrivateProps {\n  __imageData?: IGatsbyImageData\n  __error?: string\n}\n\nexport function _getStaticImage(\n  GatsbyImage: FunctionComponent<GatsbyImageProps>\n): React.FC<IStaticImageProps & IPrivateProps> {\n  return function StaticImage({\n    src,\n    __imageData: imageData,\n    __error,\n    // We extract these because they're not meant to be passed-down to GatsbyImage\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    width,\n    height,\n    aspectRatio,\n    tracedSVGOptions,\n    placeholder,\n    formats,\n    quality,\n    transformOptions,\n    jpgOptions,\n    pngOptions,\n    webpOptions,\n    avifOptions,\n    blurredOptions,\n    breakpoints,\n    outputPixelDensities,\n    /* eslint-enable @typescript-eslint/no-unused-vars */\n    ...props\n  }): ReactElement {\n    if (__error) {\n      console.warn(__error)\n    }\n\n    if (imageData) {\n      return <GatsbyImage image={imageData} {...props} />\n    }\n    console.warn(`Image not loaded`, src)\n    if (!__error && process.env.NODE_ENV === `development`) {\n      console.warn(\n        `Please ensure that \"gatsby-plugin-image\" is included in the plugins array in gatsby-config.js, and that your version of gatsby is at least 2.24.78`\n      )\n    }\n    return null\n  }\n}\n\nconst StaticImage: React.FC<IStaticImageProps & IPrivateProps> =\n  _getStaticImage(GatsbyImageServer)\n\nconst checkDimensionProps: PropTypes.Validator<number> = (\n  props: IStaticImageProps & IPrivateProps,\n  propName: keyof IStaticImageProps & IPrivateProps,\n  ...rest\n) => {\n  if (\n    props.layout === `fullWidth` &&\n    (propName === `width` || propName === `height`) &&\n    props[propName]\n  ) {\n    return new Error(\n      `\"${propName}\" ${props[propName]} may not be passed when layout is fullWidth.`\n    )\n  }\n  return PropTypes.number(props, propName, ...rest)\n}\n\nconst validLayouts = new Set([`fixed`, `fullWidth`, `constrained`])\n\nexport const propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: altValidator,\n  width: checkDimensionProps,\n  height: checkDimensionProps,\n  sizes: PropTypes.string,\n  layout: (props: IStaticImageProps & IPrivateProps): Error | undefined => {\n    if (props.layout === undefined) {\n      return undefined\n    }\n    if (validLayouts.has(props.layout)) {\n      return undefined\n    }\n\n    return new Error(\n      `Invalid value ${props.layout}\" provided for prop \"layout\". Defaulting to \"constrained\". Valid values are \"fixed\", \"fullWidth\" or \"constrained\".`\n    )\n  },\n}\n\nStaticImage.displayName = `StaticImage`\nStaticImage.propTypes = propTypes\n\nexport { StaticImage }\n","import {\n  GatsbyImage as GatsbyImageBrowser,\n  IGatsbyImageData,\n} from \"./gatsby-image.browser\"\nimport React from \"react\"\nimport {\n  _getStaticImage,\n  propTypes,\n  IStaticImageProps,\n} from \"./static-image.server\"\n// These values are added by Babel. Do not add them manually\ninterface IPrivateProps {\n  __imageData?: IGatsbyImageData\n  __error?: string\n}\n\nconst StaticImage: React.FC<IStaticImageProps & IPrivateProps> =\n  _getStaticImage(GatsbyImageBrowser)\n\nStaticImage.displayName = `StaticImage`\nStaticImage.propTypes = propTypes\n\nexport { StaticImage }\n","export const allSanityTypeItems = (data = {}, type) => {\n  return data[`allSanity${type}`]?.edges\n    ? data[`allSanity${type}`]?.edges.map(({ node }) => node)\n    : [];\n};\n","/*!\n * getSize v2.0.3\n * measure size of elements\n * MIT license\n */\n\n/* jshint browser: true, strict: true, undef: true, unused: true */\n/* globals console: false */\n\n( function( window, factory ) {\n  /* jshint strict: false */ /* globals define, module */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.getSize = factory();\n  }\n\n})( window, function factory() {\n'use strict';\n\n// -------------------------- helpers -------------------------- //\n\n// get a number from a string, not a percentage\nfunction getStyleSize( value ) {\n  var num = parseFloat( value );\n  // not a percent like '100%', and a number\n  var isValid = value.indexOf('%') == -1 && !isNaN( num );\n  return isValid && num;\n}\n\nfunction noop() {}\n\nvar logError = typeof console == 'undefined' ? noop :\n  function( message ) {\n    console.error( message );\n  };\n\n// -------------------------- measurements -------------------------- //\n\nvar measurements = [\n  'paddingLeft',\n  'paddingRight',\n  'paddingTop',\n  'paddingBottom',\n  'marginLeft',\n  'marginRight',\n  'marginTop',\n  'marginBottom',\n  'borderLeftWidth',\n  'borderRightWidth',\n  'borderTopWidth',\n  'borderBottomWidth'\n];\n\nvar measurementsLength = measurements.length;\n\nfunction getZeroSize() {\n  var size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    size[ measurement ] = 0;\n  }\n  return size;\n}\n\n// -------------------------- getStyle -------------------------- //\n\n/**\n * getStyle, get style of element, check for Firefox bug\n * https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n */\nfunction getStyle( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    logError( 'Style returned ' + style +\n      '. Are you running this code in a hidden iframe on Firefox? ' +\n      'See https://bit.ly/getsizebug1' );\n  }\n  return style;\n}\n\n// -------------------------- setup -------------------------- //\n\nvar isSetup = false;\n\nvar isBoxSizeOuter;\n\n/**\n * setup\n * check isBoxSizerOuter\n * do on first getSize() rather than on page load for Firefox bug\n */\nfunction setup() {\n  // setup once\n  if ( isSetup ) {\n    return;\n  }\n  isSetup = true;\n\n  // -------------------------- box sizing -------------------------- //\n\n  /**\n   * Chrome & Safari measure the outer-width on style.width on border-box elems\n   * IE11 & Firefox<29 measures the inner-width\n   */\n  var div = document.createElement('div');\n  div.style.width = '200px';\n  div.style.padding = '1px 2px 3px 4px';\n  div.style.borderStyle = 'solid';\n  div.style.borderWidth = '1px 2px 3px 4px';\n  div.style.boxSizing = 'border-box';\n\n  var body = document.body || document.documentElement;\n  body.appendChild( div );\n  var style = getStyle( div );\n  // round value for browser zoom. desandro/masonry#928\n  isBoxSizeOuter = Math.round( getStyleSize( style.width ) ) == 200;\n  getSize.isBoxSizeOuter = isBoxSizeOuter;\n\n  body.removeChild( div );\n}\n\n// -------------------------- getSize -------------------------- //\n\nfunction getSize( elem ) {\n  setup();\n\n  // use querySeletor if elem is string\n  if ( typeof elem == 'string' ) {\n    elem = document.querySelector( elem );\n  }\n\n  // do not proceed on non-objects\n  if ( !elem || typeof elem != 'object' || !elem.nodeType ) {\n    return;\n  }\n\n  var style = getStyle( elem );\n\n  // if hidden, everything is 0\n  if ( style.display == 'none' ) {\n    return getZeroSize();\n  }\n\n  var size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n\n  var isBorderBox = size.isBorderBox = style.boxSizing == 'border-box';\n\n  // get all measurements\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    var value = style[ measurement ];\n    var num = parseFloat( value );\n    // any 'auto', 'medium' value will be 0\n    size[ measurement ] = !isNaN( num ) ? num : 0;\n  }\n\n  var paddingWidth = size.paddingLeft + size.paddingRight;\n  var paddingHeight = size.paddingTop + size.paddingBottom;\n  var marginWidth = size.marginLeft + size.marginRight;\n  var marginHeight = size.marginTop + size.marginBottom;\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n\n  var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;\n\n  // overwrite width and height if we can get it from style\n  var styleWidth = getStyleSize( style.width );\n  if ( styleWidth !== false ) {\n    size.width = styleWidth +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth );\n  }\n\n  var styleHeight = getStyleSize( style.height );\n  if ( styleHeight !== false ) {\n    size.height = styleHeight +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight );\n  }\n\n  size.innerWidth = size.width - ( paddingWidth + borderWidth );\n  size.innerHeight = size.height - ( paddingHeight + borderHeight );\n\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n\n  return size;\n}\n\nreturn getSize;\n\n});\n","/*!\n * imagesLoaded v5.0.0\n * JavaScript is all like \"You images are done yet or what?\"\n * MIT License\n */\n\n( function( window, factory ) {\n  // universal module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( window, require('ev-emitter') );\n  } else {\n    // browser global\n    window.imagesLoaded = factory( window, window.EvEmitter );\n  }\n\n} )( typeof window !== 'undefined' ? window : this,\n    function factory( window, EvEmitter ) {\n\nlet $ = window.jQuery;\nlet console = window.console;\n\n// -------------------------- helpers -------------------------- //\n\n// turn element or nodeList into an array\nfunction makeArray( obj ) {\n  // use object if already an array\n  if ( Array.isArray( obj ) ) return obj;\n\n  let isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n  // convert nodeList to array\n  if ( isArrayLike ) return [ ...obj ];\n\n  // array of single index\n  return [ obj ];\n}\n\n// -------------------------- imagesLoaded -------------------------- //\n\n/**\n * @param {[Array, Element, NodeList, String]} elem\n * @param {[Object, Function]} options - if function, use as callback\n * @param {Function} onAlways - callback function\n * @returns {ImagesLoaded}\n */\nfunction ImagesLoaded( elem, options, onAlways ) {\n  // coerce ImagesLoaded() without new, to be new ImagesLoaded()\n  if ( !( this instanceof ImagesLoaded ) ) {\n    return new ImagesLoaded( elem, options, onAlways );\n  }\n  // use elem as selector string\n  let queryElem = elem;\n  if ( typeof elem == 'string' ) {\n    queryElem = document.querySelectorAll( elem );\n  }\n  // bail if bad element\n  if ( !queryElem ) {\n    console.error(`Bad element for imagesLoaded ${queryElem || elem}`);\n    return;\n  }\n\n  this.elements = makeArray( queryElem );\n  this.options = {};\n  // shift arguments if no options set\n  if ( typeof options == 'function' ) {\n    onAlways = options;\n  } else {\n    Object.assign( this.options, options );\n  }\n\n  if ( onAlways ) this.on( 'always', onAlways );\n\n  this.getImages();\n  // add jQuery Deferred object\n  if ( $ ) this.jqDeferred = new $.Deferred();\n\n  // HACK check async to allow time to bind listeners\n  setTimeout( this.check.bind( this ) );\n}\n\nImagesLoaded.prototype = Object.create( EvEmitter.prototype );\n\nImagesLoaded.prototype.getImages = function() {\n  this.images = [];\n\n  // filter & find items if we have an item selector\n  this.elements.forEach( this.addElementImages, this );\n};\n\nconst elementNodeTypes = [ 1, 9, 11 ];\n\n/**\n * @param {Node} elem\n */\nImagesLoaded.prototype.addElementImages = function( elem ) {\n  // filter siblings\n  if ( elem.nodeName === 'IMG' ) {\n    this.addImage( elem );\n  }\n  // get background image on element\n  if ( this.options.background === true ) {\n    this.addElementBackgroundImages( elem );\n  }\n\n  // find children\n  // no non-element nodes, #143\n  let { nodeType } = elem;\n  if ( !nodeType || !elementNodeTypes.includes( nodeType ) ) return;\n\n  let childImgs = elem.querySelectorAll('img');\n  // concat childElems to filterFound array\n  for ( let img of childImgs ) {\n    this.addImage( img );\n  }\n\n  // get child background images\n  if ( typeof this.options.background == 'string' ) {\n    let children = elem.querySelectorAll( this.options.background );\n    for ( let child of children ) {\n      this.addElementBackgroundImages( child );\n    }\n  }\n};\n\nconst reURL = /url\\((['\"])?(.*?)\\1\\)/gi;\n\nImagesLoaded.prototype.addElementBackgroundImages = function( elem ) {\n  let style = getComputedStyle( elem );\n  // Firefox returns null if in a hidden iframe https://bugzil.la/548397\n  if ( !style ) return;\n\n  // get url inside url(\"...\")\n  let matches = reURL.exec( style.backgroundImage );\n  while ( matches !== null ) {\n    let url = matches && matches[2];\n    if ( url ) {\n      this.addBackground( url, elem );\n    }\n    matches = reURL.exec( style.backgroundImage );\n  }\n};\n\n/**\n * @param {Image} img\n */\nImagesLoaded.prototype.addImage = function( img ) {\n  let loadingImage = new LoadingImage( img );\n  this.images.push( loadingImage );\n};\n\nImagesLoaded.prototype.addBackground = function( url, elem ) {\n  let background = new Background( url, elem );\n  this.images.push( background );\n};\n\nImagesLoaded.prototype.check = function() {\n  this.progressedCount = 0;\n  this.hasAnyBroken = false;\n  // complete if no images\n  if ( !this.images.length ) {\n    this.complete();\n    return;\n  }\n\n  /* eslint-disable-next-line func-style */\n  let onProgress = ( image, elem, message ) => {\n    // HACK - Chrome triggers event before object properties have changed. #83\n    setTimeout( () => {\n      this.progress( image, elem, message );\n    } );\n  };\n\n  this.images.forEach( function( loadingImage ) {\n    loadingImage.once( 'progress', onProgress );\n    loadingImage.check();\n  } );\n};\n\nImagesLoaded.prototype.progress = function( image, elem, message ) {\n  this.progressedCount++;\n  this.hasAnyBroken = this.hasAnyBroken || !image.isLoaded;\n  // progress event\n  this.emitEvent( 'progress', [ this, image, elem ] );\n  if ( this.jqDeferred && this.jqDeferred.notify ) {\n    this.jqDeferred.notify( this, image );\n  }\n  // check if completed\n  if ( this.progressedCount === this.images.length ) {\n    this.complete();\n  }\n\n  if ( this.options.debug && console ) {\n    console.log( `progress: ${message}`, image, elem );\n  }\n};\n\nImagesLoaded.prototype.complete = function() {\n  let eventName = this.hasAnyBroken ? 'fail' : 'done';\n  this.isComplete = true;\n  this.emitEvent( eventName, [ this ] );\n  this.emitEvent( 'always', [ this ] );\n  if ( this.jqDeferred ) {\n    let jqMethod = this.hasAnyBroken ? 'reject' : 'resolve';\n    this.jqDeferred[ jqMethod ]( this );\n  }\n};\n\n// --------------------------  -------------------------- //\n\nfunction LoadingImage( img ) {\n  this.img = img;\n}\n\nLoadingImage.prototype = Object.create( EvEmitter.prototype );\n\nLoadingImage.prototype.check = function() {\n  // If complete is true and browser supports natural sizes,\n  // try to check for image status manually.\n  let isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    // report based on naturalWidth\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    return;\n  }\n\n  // If none of the checks above matched, simulate loading on detached element.\n  this.proxyImage = new Image();\n  // add crossOrigin attribute. #204\n  if ( this.img.crossOrigin ) {\n    this.proxyImage.crossOrigin = this.img.crossOrigin;\n  }\n  this.proxyImage.addEventListener( 'load', this );\n  this.proxyImage.addEventListener( 'error', this );\n  // bind to image as well for Firefox. #191\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.proxyImage.src = this.img.currentSrc || this.img.src;\n};\n\nLoadingImage.prototype.getIsImageComplete = function() {\n  // check for non-zero, non-undefined naturalWidth\n  // fixes Safari+InfiniteScroll+Masonry bug infinite-scroll#671\n  return this.img.complete && this.img.naturalWidth;\n};\n\nLoadingImage.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  let { parentNode } = this.img;\n  // emit progress with parent <picture> or self <img>\n  let elem = parentNode.nodeName === 'PICTURE' ? parentNode : this.img;\n  this.emitEvent( 'progress', [ this, elem, message ] );\n};\n\n// ----- events ----- //\n\n// trigger specified handler for event type\nLoadingImage.prototype.handleEvent = function( event ) {\n  let method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\nLoadingImage.prototype.onload = function() {\n  this.confirm( true, 'onload' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.onerror = function() {\n  this.confirm( false, 'onerror' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.unbindEvents = function() {\n  this.proxyImage.removeEventListener( 'load', this );\n  this.proxyImage.removeEventListener( 'error', this );\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\n// -------------------------- Background -------------------------- //\n\nfunction Background( url, element ) {\n  this.url = url;\n  this.element = element;\n  this.img = new Image();\n}\n\n// inherit LoadingImage prototype\nBackground.prototype = Object.create( LoadingImage.prototype );\n\nBackground.prototype.check = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.img.src = this.url;\n  // check if image is already complete\n  let isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    this.unbindEvents();\n  }\n};\n\nBackground.prototype.unbindEvents = function() {\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\nBackground.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.element, message ] );\n};\n\n// -------------------------- jQuery -------------------------- //\n\nImagesLoaded.makeJQueryPlugin = function( jQuery ) {\n  jQuery = jQuery || window.jQuery;\n  if ( !jQuery ) return;\n\n  // set local variable\n  $ = jQuery;\n  // $().imagesLoaded()\n  $.fn.imagesLoaded = function( options, onAlways ) {\n    let instance = new ImagesLoaded( this, options, onAlways );\n    return instance.jqDeferred.promise( $( this ) );\n  };\n};\n// try making plugin\nImagesLoaded.makeJQueryPlugin();\n\n// --------------------------  -------------------------- //\n\nreturn ImagesLoaded;\n\n} );\n","/*!\n * Masonry v4.2.2\n * Cascading grid layout library\n * https://masonry.desandro.com\n * MIT License\n * by David DeSandro\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n        'outlayer/outlayer',\n        'get-size/get-size'\n      ],\n      factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('outlayer'),\n      require('get-size')\n    );\n  } else {\n    // browser global\n    window.Masonry = factory(\n      window.Outlayer,\n      window.getSize\n    );\n  }\n\n}( window, function factory( Outlayer, getSize ) {\n\n'use strict';\n\n// -------------------------- masonryDefinition -------------------------- //\n\n  // create an Outlayer layout class\n  var Masonry = Outlayer.create('masonry');\n  // isFitWidth -> fitWidth\n  Masonry.compatOptions.fitWidth = 'isFitWidth';\n\n  var proto = Masonry.prototype;\n\n  proto._resetLayout = function() {\n    this.getSize();\n    this._getMeasurement( 'columnWidth', 'outerWidth' );\n    this._getMeasurement( 'gutter', 'outerWidth' );\n    this.measureColumns();\n\n    // reset column Y\n    this.colYs = [];\n    for ( var i=0; i < this.cols; i++ ) {\n      this.colYs.push( 0 );\n    }\n\n    this.maxY = 0;\n    this.horizontalColIndex = 0;\n  };\n\n  proto.measureColumns = function() {\n    this.getContainerWidth();\n    // if columnWidth is 0, default to outerWidth of first item\n    if ( !this.columnWidth ) {\n      var firstItem = this.items[0];\n      var firstItemElem = firstItem && firstItem.element;\n      // columnWidth fall back to item of first element\n      this.columnWidth = firstItemElem && getSize( firstItemElem ).outerWidth ||\n        // if first elem has no width, default to size of container\n        this.containerWidth;\n    }\n\n    var columnWidth = this.columnWidth += this.gutter;\n\n    // calculate columns\n    var containerWidth = this.containerWidth + this.gutter;\n    var cols = containerWidth / columnWidth;\n    // fix rounding errors, typically with gutters\n    var excess = columnWidth - containerWidth % columnWidth;\n    // if overshoot is less than a pixel, round up, otherwise floor it\n    var mathMethod = excess && excess < 1 ? 'round' : 'floor';\n    cols = Math[ mathMethod ]( cols );\n    this.cols = Math.max( cols, 1 );\n  };\n\n  proto.getContainerWidth = function() {\n    // container is parent if fit width\n    var isFitWidth = this._getOption('fitWidth');\n    var container = isFitWidth ? this.element.parentNode : this.element;\n    // check that this.size and size are there\n    // IE8 triggers resize on body size change, so they might not be\n    var size = getSize( container );\n    this.containerWidth = size && size.innerWidth;\n  };\n\n  proto._getItemLayoutPosition = function( item ) {\n    item.getSize();\n    // how many columns does this brick span\n    var remainder = item.size.outerWidth % this.columnWidth;\n    var mathMethod = remainder && remainder < 1 ? 'round' : 'ceil';\n    // round if off by 1 pixel, otherwise use ceil\n    var colSpan = Math[ mathMethod ]( item.size.outerWidth / this.columnWidth );\n    colSpan = Math.min( colSpan, this.cols );\n    // use horizontal or top column position\n    var colPosMethod = this.options.horizontalOrder ?\n      '_getHorizontalColPosition' : '_getTopColPosition';\n    var colPosition = this[ colPosMethod ]( colSpan, item );\n    // position the brick\n    var position = {\n      x: this.columnWidth * colPosition.col,\n      y: colPosition.y\n    };\n    // apply setHeight to necessary columns\n    var setHeight = colPosition.y + item.size.outerHeight;\n    var setMax = colSpan + colPosition.col;\n    for ( var i = colPosition.col; i < setMax; i++ ) {\n      this.colYs[i] = setHeight;\n    }\n\n    return position;\n  };\n\n  proto._getTopColPosition = function( colSpan ) {\n    var colGroup = this._getTopColGroup( colSpan );\n    // get the minimum Y value from the columns\n    var minimumY = Math.min.apply( Math, colGroup );\n\n    return {\n      col: colGroup.indexOf( minimumY ),\n      y: minimumY,\n    };\n  };\n\n  /**\n   * @param {Number} colSpan - number of columns the element spans\n   * @returns {Array} colGroup\n   */\n  proto._getTopColGroup = function( colSpan ) {\n    if ( colSpan < 2 ) {\n      // if brick spans only one column, use all the column Ys\n      return this.colYs;\n    }\n\n    var colGroup = [];\n    // how many different places could this brick fit horizontally\n    var groupCount = this.cols + 1 - colSpan;\n    // for each group potential horizontal position\n    for ( var i = 0; i < groupCount; i++ ) {\n      colGroup[i] = this._getColGroupY( i, colSpan );\n    }\n    return colGroup;\n  };\n\n  proto._getColGroupY = function( col, colSpan ) {\n    if ( colSpan < 2 ) {\n      return this.colYs[ col ];\n    }\n    // make an array of colY values for that one group\n    var groupColYs = this.colYs.slice( col, col + colSpan );\n    // and get the max value of the array\n    return Math.max.apply( Math, groupColYs );\n  };\n\n  // get column position based on horizontal index. #873\n  proto._getHorizontalColPosition = function( colSpan, item ) {\n    var col = this.horizontalColIndex % this.cols;\n    var isOver = colSpan > 1 && col + colSpan > this.cols;\n    // shift to next row if item can't fit on current row\n    col = isOver ? 0 : col;\n    // don't let zero-size items take up space\n    var hasSize = item.size.outerWidth && item.size.outerHeight;\n    this.horizontalColIndex = hasSize ? col + colSpan : this.horizontalColIndex;\n\n    return {\n      col: col,\n      y: this._getColGroupY( col, colSpan ),\n    };\n  };\n\n  proto._manageStamp = function( stamp ) {\n    var stampSize = getSize( stamp );\n    var offset = this._getElementOffset( stamp );\n    // get the columns that this stamp affects\n    var isOriginLeft = this._getOption('originLeft');\n    var firstX = isOriginLeft ? offset.left : offset.right;\n    var lastX = firstX + stampSize.outerWidth;\n    var firstCol = Math.floor( firstX / this.columnWidth );\n    firstCol = Math.max( 0, firstCol );\n    var lastCol = Math.floor( lastX / this.columnWidth );\n    // lastCol should not go over if multiple of columnWidth #425\n    lastCol -= lastX % this.columnWidth ? 0 : 1;\n    lastCol = Math.min( this.cols - 1, lastCol );\n    // set colYs to bottom of the stamp\n\n    var isOriginTop = this._getOption('originTop');\n    var stampMaxY = ( isOriginTop ? offset.top : offset.bottom ) +\n      stampSize.outerHeight;\n    for ( var i = firstCol; i <= lastCol; i++ ) {\n      this.colYs[i] = Math.max( stampMaxY, this.colYs[i] );\n    }\n  };\n\n  proto._getContainerSize = function() {\n    this.maxY = Math.max.apply( Math, this.colYs );\n    var size = {\n      height: this.maxY\n    };\n\n    if ( this._getOption('fitWidth') ) {\n      size.width = this._getContainerFitWidth();\n    }\n\n    return size;\n  };\n\n  proto._getContainerFitWidth = function() {\n    var unusedCols = 0;\n    // count unused columns\n    var i = this.cols;\n    while ( --i ) {\n      if ( this.colYs[i] !== 0 ) {\n        break;\n      }\n      unusedCols++;\n    }\n    // fit container to columns that have been used\n    return ( this.cols - unusedCols ) * this.columnWidth - this.gutter;\n  };\n\n  proto.needsResizeLayout = function() {\n    var previousWidth = this.containerWidth;\n    this.getContainerWidth();\n    return previousWidth != this.containerWidth;\n  };\n\n  return Masonry;\n\n}));\n","/**\n * Outlayer Item\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( [\n        'ev-emitter/ev-emitter',\n        'get-size/get-size'\n      ],\n      factory\n    );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory(\n      require('ev-emitter'),\n      require('get-size')\n    );\n  } else {\n    // browser global\n    window.Outlayer = {};\n    window.Outlayer.Item = factory(\n      window.EvEmitter,\n      window.getSize\n    );\n  }\n\n}( window, function factory( EvEmitter, getSize ) {\n'use strict';\n\n// ----- helpers ----- //\n\nfunction isEmptyObj( obj ) {\n  for ( var prop in obj ) {\n    return false;\n  }\n  prop = null;\n  return true;\n}\n\n// -------------------------- CSS3 support -------------------------- //\n\n\nvar docElemStyle = document.documentElement.style;\n\nvar transitionProperty = typeof docElemStyle.transition == 'string' ?\n  'transition' : 'WebkitTransition';\nvar transformProperty = typeof docElemStyle.transform == 'string' ?\n  'transform' : 'WebkitTransform';\n\nvar transitionEndEvent = {\n  WebkitTransition: 'webkitTransitionEnd',\n  transition: 'transitionend'\n}[ transitionProperty ];\n\n// cache all vendor properties that could have vendor prefix\nvar vendorProperties = {\n  transform: transformProperty,\n  transition: transitionProperty,\n  transitionDuration: transitionProperty + 'Duration',\n  transitionProperty: transitionProperty + 'Property',\n  transitionDelay: transitionProperty + 'Delay'\n};\n\n// -------------------------- Item -------------------------- //\n\nfunction Item( element, layout ) {\n  if ( !element ) {\n    return;\n  }\n\n  this.element = element;\n  // parent layout class, i.e. Masonry, Isotope, or Packery\n  this.layout = layout;\n  this.position = {\n    x: 0,\n    y: 0\n  };\n\n  this._create();\n}\n\n// inherit EvEmitter\nvar proto = Item.prototype = Object.create( EvEmitter.prototype );\nproto.constructor = Item;\n\nproto._create = function() {\n  // transition objects\n  this._transn = {\n    ingProperties: {},\n    clean: {},\n    onEnd: {}\n  };\n\n  this.css({\n    position: 'absolute'\n  });\n};\n\n// trigger specified handler for event type\nproto.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n};\n\n/**\n * apply CSS styles to element\n * @param {Object} style\n */\nproto.css = function( style ) {\n  var elemStyle = this.element.style;\n\n  for ( var prop in style ) {\n    // use vendor property if available\n    var supportedProp = vendorProperties[ prop ] || prop;\n    elemStyle[ supportedProp ] = style[ prop ];\n  }\n};\n\n // measure position, and sets it\nproto.getPosition = function() {\n  var style = getComputedStyle( this.element );\n  var isOriginLeft = this.layout._getOption('originLeft');\n  var isOriginTop = this.layout._getOption('originTop');\n  var xValue = style[ isOriginLeft ? 'left' : 'right' ];\n  var yValue = style[ isOriginTop ? 'top' : 'bottom' ];\n  var x = parseFloat( xValue );\n  var y = parseFloat( yValue );\n  // convert percent to pixels\n  var layoutSize = this.layout.size;\n  if ( xValue.indexOf('%') != -1 ) {\n    x = ( x / 100 ) * layoutSize.width;\n  }\n  if ( yValue.indexOf('%') != -1 ) {\n    y = ( y / 100 ) * layoutSize.height;\n  }\n  // clean up 'auto' or other non-integer values\n  x = isNaN( x ) ? 0 : x;\n  y = isNaN( y ) ? 0 : y;\n  // remove padding from measurement\n  x -= isOriginLeft ? layoutSize.paddingLeft : layoutSize.paddingRight;\n  y -= isOriginTop ? layoutSize.paddingTop : layoutSize.paddingBottom;\n\n  this.position.x = x;\n  this.position.y = y;\n};\n\n// set settled position, apply padding\nproto.layoutPosition = function() {\n  var layoutSize = this.layout.size;\n  var style = {};\n  var isOriginLeft = this.layout._getOption('originLeft');\n  var isOriginTop = this.layout._getOption('originTop');\n\n  // x\n  var xPadding = isOriginLeft ? 'paddingLeft' : 'paddingRight';\n  var xProperty = isOriginLeft ? 'left' : 'right';\n  var xResetProperty = isOriginLeft ? 'right' : 'left';\n\n  var x = this.position.x + layoutSize[ xPadding ];\n  // set in percentage or pixels\n  style[ xProperty ] = this.getXValue( x );\n  // reset other property\n  style[ xResetProperty ] = '';\n\n  // y\n  var yPadding = isOriginTop ? 'paddingTop' : 'paddingBottom';\n  var yProperty = isOriginTop ? 'top' : 'bottom';\n  var yResetProperty = isOriginTop ? 'bottom' : 'top';\n\n  var y = this.position.y + layoutSize[ yPadding ];\n  // set in percentage or pixels\n  style[ yProperty ] = this.getYValue( y );\n  // reset other property\n  style[ yResetProperty ] = '';\n\n  this.css( style );\n  this.emitEvent( 'layout', [ this ] );\n};\n\nproto.getXValue = function( x ) {\n  var isHorizontal = this.layout._getOption('horizontal');\n  return this.layout.options.percentPosition && !isHorizontal ?\n    ( ( x / this.layout.size.width ) * 100 ) + '%' : x + 'px';\n};\n\nproto.getYValue = function( y ) {\n  var isHorizontal = this.layout._getOption('horizontal');\n  return this.layout.options.percentPosition && isHorizontal ?\n    ( ( y / this.layout.size.height ) * 100 ) + '%' : y + 'px';\n};\n\nproto._transitionTo = function( x, y ) {\n  this.getPosition();\n  // get current x & y from top/left\n  var curX = this.position.x;\n  var curY = this.position.y;\n\n  var didNotMove = x == this.position.x && y == this.position.y;\n\n  // save end position\n  this.setPosition( x, y );\n\n  // if did not move and not transitioning, just go to layout\n  if ( didNotMove && !this.isTransitioning ) {\n    this.layoutPosition();\n    return;\n  }\n\n  var transX = x - curX;\n  var transY = y - curY;\n  var transitionStyle = {};\n  transitionStyle.transform = this.getTranslate( transX, transY );\n\n  this.transition({\n    to: transitionStyle,\n    onTransitionEnd: {\n      transform: this.layoutPosition\n    },\n    isCleaning: true\n  });\n};\n\nproto.getTranslate = function( x, y ) {\n  // flip cooridinates if origin on right or bottom\n  var isOriginLeft = this.layout._getOption('originLeft');\n  var isOriginTop = this.layout._getOption('originTop');\n  x = isOriginLeft ? x : -x;\n  y = isOriginTop ? y : -y;\n  return 'translate3d(' + x + 'px, ' + y + 'px, 0)';\n};\n\n// non transition + transform support\nproto.goTo = function( x, y ) {\n  this.setPosition( x, y );\n  this.layoutPosition();\n};\n\nproto.moveTo = proto._transitionTo;\n\nproto.setPosition = function( x, y ) {\n  this.position.x = parseFloat( x );\n  this.position.y = parseFloat( y );\n};\n\n// ----- transition ----- //\n\n/**\n * @param {Object} style - CSS\n * @param {Function} onTransitionEnd\n */\n\n// non transition, just trigger callback\nproto._nonTransition = function( args ) {\n  this.css( args.to );\n  if ( args.isCleaning ) {\n    this._removeStyles( args.to );\n  }\n  for ( var prop in args.onTransitionEnd ) {\n    args.onTransitionEnd[ prop ].call( this );\n  }\n};\n\n/**\n * proper transition\n * @param {Object} args - arguments\n *   @param {Object} to - style to transition to\n *   @param {Object} from - style to start transition from\n *   @param {Boolean} isCleaning - removes transition styles after transition\n *   @param {Function} onTransitionEnd - callback\n */\nproto.transition = function( args ) {\n  // redirect to nonTransition if no transition duration\n  if ( !parseFloat( this.layout.options.transitionDuration ) ) {\n    this._nonTransition( args );\n    return;\n  }\n\n  var _transition = this._transn;\n  // keep track of onTransitionEnd callback by css property\n  for ( var prop in args.onTransitionEnd ) {\n    _transition.onEnd[ prop ] = args.onTransitionEnd[ prop ];\n  }\n  // keep track of properties that are transitioning\n  for ( prop in args.to ) {\n    _transition.ingProperties[ prop ] = true;\n    // keep track of properties to clean up when transition is done\n    if ( args.isCleaning ) {\n      _transition.clean[ prop ] = true;\n    }\n  }\n\n  // set from styles\n  if ( args.from ) {\n    this.css( args.from );\n    // force redraw. http://blog.alexmaccaw.com/css-transitions\n    var h = this.element.offsetHeight;\n    // hack for JSHint to hush about unused var\n    h = null;\n  }\n  // enable transition\n  this.enableTransition( args.to );\n  // set styles that are transitioning\n  this.css( args.to );\n\n  this.isTransitioning = true;\n\n};\n\n// dash before all cap letters, including first for\n// WebkitTransform => -webkit-transform\nfunction toDashedAll( str ) {\n  return str.replace( /([A-Z])/g, function( $1 ) {\n    return '-' + $1.toLowerCase();\n  });\n}\n\nvar transitionProps = 'opacity,' + toDashedAll( transformProperty );\n\nproto.enableTransition = function(/* style */) {\n  // HACK changing transitionProperty during a transition\n  // will cause transition to jump\n  if ( this.isTransitioning ) {\n    return;\n  }\n\n  // make `transition: foo, bar, baz` from style object\n  // HACK un-comment this when enableTransition can work\n  // while a transition is happening\n  // var transitionValues = [];\n  // for ( var prop in style ) {\n  //   // dash-ify camelCased properties like WebkitTransition\n  //   prop = vendorProperties[ prop ] || prop;\n  //   transitionValues.push( toDashedAll( prop ) );\n  // }\n  // munge number to millisecond, to match stagger\n  var duration = this.layout.options.transitionDuration;\n  duration = typeof duration == 'number' ? duration + 'ms' : duration;\n  // enable transition styles\n  this.css({\n    transitionProperty: transitionProps,\n    transitionDuration: duration,\n    transitionDelay: this.staggerDelay || 0\n  });\n  // listen for transition end event\n  this.element.addEventListener( transitionEndEvent, this, false );\n};\n\n// ----- events ----- //\n\nproto.onwebkitTransitionEnd = function( event ) {\n  this.ontransitionend( event );\n};\n\nproto.onotransitionend = function( event ) {\n  this.ontransitionend( event );\n};\n\n// properties that I munge to make my life easier\nvar dashedVendorProperties = {\n  '-webkit-transform': 'transform'\n};\n\nproto.ontransitionend = function( event ) {\n  // disregard bubbled events from children\n  if ( event.target !== this.element ) {\n    return;\n  }\n  var _transition = this._transn;\n  // get property name of transitioned property, convert to prefix-free\n  var propertyName = dashedVendorProperties[ event.propertyName ] || event.propertyName;\n\n  // remove property that has completed transitioning\n  delete _transition.ingProperties[ propertyName ];\n  // check if any properties are still transitioning\n  if ( isEmptyObj( _transition.ingProperties ) ) {\n    // all properties have completed transitioning\n    this.disableTransition();\n  }\n  // clean style\n  if ( propertyName in _transition.clean ) {\n    // clean up style\n    this.element.style[ event.propertyName ] = '';\n    delete _transition.clean[ propertyName ];\n  }\n  // trigger onTransitionEnd callback\n  if ( propertyName in _transition.onEnd ) {\n    var onTransitionEnd = _transition.onEnd[ propertyName ];\n    onTransitionEnd.call( this );\n    delete _transition.onEnd[ propertyName ];\n  }\n\n  this.emitEvent( 'transitionEnd', [ this ] );\n};\n\nproto.disableTransition = function() {\n  this.removeTransitionStyles();\n  this.element.removeEventListener( transitionEndEvent, this, false );\n  this.isTransitioning = false;\n};\n\n/**\n * removes style property from element\n * @param {Object} style\n**/\nproto._removeStyles = function( style ) {\n  // clean up transition styles\n  var cleanStyle = {};\n  for ( var prop in style ) {\n    cleanStyle[ prop ] = '';\n  }\n  this.css( cleanStyle );\n};\n\nvar cleanTransitionStyle = {\n  transitionProperty: '',\n  transitionDuration: '',\n  transitionDelay: ''\n};\n\nproto.removeTransitionStyles = function() {\n  // remove transition\n  this.css( cleanTransitionStyle );\n};\n\n// ----- stagger ----- //\n\nproto.stagger = function( delay ) {\n  delay = isNaN( delay ) ? 0 : delay;\n  this.staggerDelay = delay + 'ms';\n};\n\n// ----- show/hide/remove ----- //\n\n// remove element from DOM\nproto.removeElem = function() {\n  this.element.parentNode.removeChild( this.element );\n  // remove display: none\n  this.css({ display: '' });\n  this.emitEvent( 'remove', [ this ] );\n};\n\nproto.remove = function() {\n  // just remove element if no transition support or no transition\n  if ( !transitionProperty || !parseFloat( this.layout.options.transitionDuration ) ) {\n    this.removeElem();\n    return;\n  }\n\n  // start transition\n  this.once( 'transitionEnd', function() {\n    this.removeElem();\n  });\n  this.hide();\n};\n\nproto.reveal = function() {\n  delete this.isHidden;\n  // remove display: none\n  this.css({ display: '' });\n\n  var options = this.layout.options;\n\n  var onTransitionEnd = {};\n  var transitionEndProperty = this.getHideRevealTransitionEndProperty('visibleStyle');\n  onTransitionEnd[ transitionEndProperty ] = this.onRevealTransitionEnd;\n\n  this.transition({\n    from: options.hiddenStyle,\n    to: options.visibleStyle,\n    isCleaning: true,\n    onTransitionEnd: onTransitionEnd\n  });\n};\n\nproto.onRevealTransitionEnd = function() {\n  // check if still visible\n  // during transition, item may have been hidden\n  if ( !this.isHidden ) {\n    this.emitEvent('reveal');\n  }\n};\n\n/**\n * get style property use for hide/reveal transition end\n * @param {String} styleProperty - hiddenStyle/visibleStyle\n * @returns {String}\n */\nproto.getHideRevealTransitionEndProperty = function( styleProperty ) {\n  var optionStyle = this.layout.options[ styleProperty ];\n  // use opacity\n  if ( optionStyle.opacity ) {\n    return 'opacity';\n  }\n  // get first property\n  for ( var prop in optionStyle ) {\n    return prop;\n  }\n};\n\nproto.hide = function() {\n  // set flag\n  this.isHidden = true;\n  // remove display: none\n  this.css({ display: '' });\n\n  var options = this.layout.options;\n\n  var onTransitionEnd = {};\n  var transitionEndProperty = this.getHideRevealTransitionEndProperty('hiddenStyle');\n  onTransitionEnd[ transitionEndProperty ] = this.onHideTransitionEnd;\n\n  this.transition({\n    from: options.visibleStyle,\n    to: options.hiddenStyle,\n    // keep hidden stuff hidden\n    isCleaning: true,\n    onTransitionEnd: onTransitionEnd\n  });\n};\n\nproto.onHideTransitionEnd = function() {\n  // check if still hidden\n  // during transition, item may have been un-hidden\n  if ( this.isHidden ) {\n    this.css({ display: 'none' });\n    this.emitEvent('hide');\n  }\n};\n\nproto.destroy = function() {\n  this.css({\n    position: '',\n    left: '',\n    right: '',\n    top: '',\n    bottom: '',\n    transition: '',\n    transform: ''\n  });\n};\n\nreturn Item;\n\n}));\n","/**\n * EvEmitter v1.1.0\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, window */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n\n}( typeof window != 'undefined' ? window : this, function() {\n\n\"use strict\";\n\nfunction EvEmitter() {}\n\nvar proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // set events hash\n  var events = this._events = this._events || {};\n  // set listeners array\n  var listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( listeners.indexOf( listener ) == -1 ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  var onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners object\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  // copy over to avoid interference if .off() in listener\n  listeners = listeners.slice(0);\n  args = args || [];\n  // once stuff\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  for ( var i=0; i < listeners.length; i++ ) {\n    var listener = listeners[i]\n    var isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n  }\n\n  return this;\n};\n\nproto.allOff = function() {\n  delete this._events;\n  delete this._onceEvents;\n};\n\nreturn EvEmitter;\n\n}));\n","/*!\n * Outlayer v2.1.1\n * the brains and guts of a layout library\n * MIT license\n */\n\n( function( window, factory ) {\n  'use strict';\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( [\n        'ev-emitter/ev-emitter',\n        'get-size/get-size',\n        'fizzy-ui-utils/utils',\n        './item'\n      ],\n      function( EvEmitter, getSize, utils, Item ) {\n        return factory( window, EvEmitter, getSize, utils, Item);\n      }\n    );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory(\n      window,\n      require('ev-emitter'),\n      require('get-size'),\n      require('fizzy-ui-utils'),\n      require('./item')\n    );\n  } else {\n    // browser global\n    window.Outlayer = factory(\n      window,\n      window.EvEmitter,\n      window.getSize,\n      window.fizzyUIUtils,\n      window.Outlayer.Item\n    );\n  }\n\n}( window, function factory( window, EvEmitter, getSize, utils, Item ) {\n'use strict';\n\n// ----- vars ----- //\n\nvar console = window.console;\nvar jQuery = window.jQuery;\nvar noop = function() {};\n\n// -------------------------- Outlayer -------------------------- //\n\n// globally unique identifiers\nvar GUID = 0;\n// internal store of all Outlayer intances\nvar instances = {};\n\n\n/**\n * @param {Element, String} element\n * @param {Object} options\n * @constructor\n */\nfunction Outlayer( element, options ) {\n  var queryElement = utils.getQueryElement( element );\n  if ( !queryElement ) {\n    if ( console ) {\n      console.error( 'Bad element for ' + this.constructor.namespace +\n        ': ' + ( queryElement || element ) );\n    }\n    return;\n  }\n  this.element = queryElement;\n  // add jQuery\n  if ( jQuery ) {\n    this.$element = jQuery( this.element );\n  }\n\n  // options\n  this.options = utils.extend( {}, this.constructor.defaults );\n  this.option( options );\n\n  // add id for Outlayer.getFromElement\n  var id = ++GUID;\n  this.element.outlayerGUID = id; // expando\n  instances[ id ] = this; // associate via id\n\n  // kick it off\n  this._create();\n\n  var isInitLayout = this._getOption('initLayout');\n  if ( isInitLayout ) {\n    this.layout();\n  }\n}\n\n// settings are for internal use only\nOutlayer.namespace = 'outlayer';\nOutlayer.Item = Item;\n\n// default options\nOutlayer.defaults = {\n  containerStyle: {\n    position: 'relative'\n  },\n  initLayout: true,\n  originLeft: true,\n  originTop: true,\n  resize: true,\n  resizeContainer: true,\n  // item options\n  transitionDuration: '0.4s',\n  hiddenStyle: {\n    opacity: 0,\n    transform: 'scale(0.001)'\n  },\n  visibleStyle: {\n    opacity: 1,\n    transform: 'scale(1)'\n  }\n};\n\nvar proto = Outlayer.prototype;\n// inherit EvEmitter\nutils.extend( proto, EvEmitter.prototype );\n\n/**\n * set options\n * @param {Object} opts\n */\nproto.option = function( opts ) {\n  utils.extend( this.options, opts );\n};\n\n/**\n * get backwards compatible option value, check old name\n */\nproto._getOption = function( option ) {\n  var oldOption = this.constructor.compatOptions[ option ];\n  return oldOption && this.options[ oldOption ] !== undefined ?\n    this.options[ oldOption ] : this.options[ option ];\n};\n\nOutlayer.compatOptions = {\n  // currentName: oldName\n  initLayout: 'isInitLayout',\n  horizontal: 'isHorizontal',\n  layoutInstant: 'isLayoutInstant',\n  originLeft: 'isOriginLeft',\n  originTop: 'isOriginTop',\n  resize: 'isResizeBound',\n  resizeContainer: 'isResizingContainer'\n};\n\nproto._create = function() {\n  // get items from children\n  this.reloadItems();\n  // elements that affect layout, but are not laid out\n  this.stamps = [];\n  this.stamp( this.options.stamp );\n  // set container style\n  utils.extend( this.element.style, this.options.containerStyle );\n\n  // bind resize method\n  var canBindResize = this._getOption('resize');\n  if ( canBindResize ) {\n    this.bindResize();\n  }\n};\n\n// goes through all children again and gets bricks in proper order\nproto.reloadItems = function() {\n  // collection of item elements\n  this.items = this._itemize( this.element.children );\n};\n\n\n/**\n * turn elements into Outlayer.Items to be used in layout\n * @param {Array or NodeList or HTMLElement} elems\n * @returns {Array} items - collection of new Outlayer Items\n */\nproto._itemize = function( elems ) {\n\n  var itemElems = this._filterFindItemElements( elems );\n  var Item = this.constructor.Item;\n\n  // create new Outlayer Items for collection\n  var items = [];\n  for ( var i=0; i < itemElems.length; i++ ) {\n    var elem = itemElems[i];\n    var item = new Item( elem, this );\n    items.push( item );\n  }\n\n  return items;\n};\n\n/**\n * get item elements to be used in layout\n * @param {Array or NodeList or HTMLElement} elems\n * @returns {Array} items - item elements\n */\nproto._filterFindItemElements = function( elems ) {\n  return utils.filterFindElements( elems, this.options.itemSelector );\n};\n\n/**\n * getter method for getting item elements\n * @returns {Array} elems - collection of item elements\n */\nproto.getItemElements = function() {\n  return this.items.map( function( item ) {\n    return item.element;\n  });\n};\n\n// ----- init & layout ----- //\n\n/**\n * lays out all items\n */\nproto.layout = function() {\n  this._resetLayout();\n  this._manageStamps();\n\n  // don't animate first layout\n  var layoutInstant = this._getOption('layoutInstant');\n  var isInstant = layoutInstant !== undefined ?\n    layoutInstant : !this._isLayoutInited;\n  this.layoutItems( this.items, isInstant );\n\n  // flag for initalized\n  this._isLayoutInited = true;\n};\n\n// _init is alias for layout\nproto._init = proto.layout;\n\n/**\n * logic before any new layout\n */\nproto._resetLayout = function() {\n  this.getSize();\n};\n\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n};\n\n/**\n * get measurement from option, for columnWidth, rowHeight, gutter\n * if option is String -> get element from selector string, & get size of element\n * if option is Element -> get size of element\n * else use option as a number\n *\n * @param {String} measurement\n * @param {String} size - width or height\n * @private\n */\nproto._getMeasurement = function( measurement, size ) {\n  var option = this.options[ measurement ];\n  var elem;\n  if ( !option ) {\n    // default to 0\n    this[ measurement ] = 0;\n  } else {\n    // use option as an element\n    if ( typeof option == 'string' ) {\n      elem = this.element.querySelector( option );\n    } else if ( option instanceof HTMLElement ) {\n      elem = option;\n    }\n    // use size of element, if element\n    this[ measurement ] = elem ? getSize( elem )[ size ] : option;\n  }\n};\n\n/**\n * layout a collection of item elements\n * @api public\n */\nproto.layoutItems = function( items, isInstant ) {\n  items = this._getItemsForLayout( items );\n\n  this._layoutItems( items, isInstant );\n\n  this._postLayout();\n};\n\n/**\n * get the items to be laid out\n * you may want to skip over some items\n * @param {Array} items\n * @returns {Array} items\n */\nproto._getItemsForLayout = function( items ) {\n  return items.filter( function( item ) {\n    return !item.isIgnored;\n  });\n};\n\n/**\n * layout items\n * @param {Array} items\n * @param {Boolean} isInstant\n */\nproto._layoutItems = function( items, isInstant ) {\n  this._emitCompleteOnItems( 'layout', items );\n\n  if ( !items || !items.length ) {\n    // no items, emit event with empty array\n    return;\n  }\n\n  var queue = [];\n\n  items.forEach( function( item ) {\n    // get x/y object from method\n    var position = this._getItemLayoutPosition( item );\n    // enqueue\n    position.item = item;\n    position.isInstant = isInstant || item.isLayoutInstant;\n    queue.push( position );\n  }, this );\n\n  this._processLayoutQueue( queue );\n};\n\n/**\n * get item layout position\n * @param {Outlayer.Item} item\n * @returns {Object} x and y position\n */\nproto._getItemLayoutPosition = function( /* item */ ) {\n  return {\n    x: 0,\n    y: 0\n  };\n};\n\n/**\n * iterate over array and position each item\n * Reason being - separating this logic prevents 'layout invalidation'\n * thx @paul_irish\n * @param {Array} queue\n */\nproto._processLayoutQueue = function( queue ) {\n  this.updateStagger();\n  queue.forEach( function( obj, i ) {\n    this._positionItem( obj.item, obj.x, obj.y, obj.isInstant, i );\n  }, this );\n};\n\n// set stagger from option in milliseconds number\nproto.updateStagger = function() {\n  var stagger = this.options.stagger;\n  if ( stagger === null || stagger === undefined ) {\n    this.stagger = 0;\n    return;\n  }\n  this.stagger = getMilliseconds( stagger );\n  return this.stagger;\n};\n\n/**\n * Sets position of item in DOM\n * @param {Outlayer.Item} item\n * @param {Number} x - horizontal position\n * @param {Number} y - vertical position\n * @param {Boolean} isInstant - disables transitions\n */\nproto._positionItem = function( item, x, y, isInstant, i ) {\n  if ( isInstant ) {\n    // if not transition, just set CSS\n    item.goTo( x, y );\n  } else {\n    item.stagger( i * this.stagger );\n    item.moveTo( x, y );\n  }\n};\n\n/**\n * Any logic you want to do after each layout,\n * i.e. size the container\n */\nproto._postLayout = function() {\n  this.resizeContainer();\n};\n\nproto.resizeContainer = function() {\n  var isResizingContainer = this._getOption('resizeContainer');\n  if ( !isResizingContainer ) {\n    return;\n  }\n  var size = this._getContainerSize();\n  if ( size ) {\n    this._setContainerMeasure( size.width, true );\n    this._setContainerMeasure( size.height, false );\n  }\n};\n\n/**\n * Sets width or height of container if returned\n * @returns {Object} size\n *   @param {Number} width\n *   @param {Number} height\n */\nproto._getContainerSize = noop;\n\n/**\n * @param {Number} measure - size of width or height\n * @param {Boolean} isWidth\n */\nproto._setContainerMeasure = function( measure, isWidth ) {\n  if ( measure === undefined ) {\n    return;\n  }\n\n  var elemSize = this.size;\n  // add padding and border width if border box\n  if ( elemSize.isBorderBox ) {\n    measure += isWidth ? elemSize.paddingLeft + elemSize.paddingRight +\n      elemSize.borderLeftWidth + elemSize.borderRightWidth :\n      elemSize.paddingBottom + elemSize.paddingTop +\n      elemSize.borderTopWidth + elemSize.borderBottomWidth;\n  }\n\n  measure = Math.max( measure, 0 );\n  this.element.style[ isWidth ? 'width' : 'height' ] = measure + 'px';\n};\n\n/**\n * emit eventComplete on a collection of items events\n * @param {String} eventName\n * @param {Array} items - Outlayer.Items\n */\nproto._emitCompleteOnItems = function( eventName, items ) {\n  var _this = this;\n  function onComplete() {\n    _this.dispatchEvent( eventName + 'Complete', null, [ items ] );\n  }\n\n  var count = items.length;\n  if ( !items || !count ) {\n    onComplete();\n    return;\n  }\n\n  var doneCount = 0;\n  function tick() {\n    doneCount++;\n    if ( doneCount == count ) {\n      onComplete();\n    }\n  }\n\n  // bind callback\n  items.forEach( function( item ) {\n    item.once( eventName, tick );\n  });\n};\n\n/**\n * emits events via EvEmitter and jQuery events\n * @param {String} type - name of event\n * @param {Event} event - original event\n * @param {Array} args - extra arguments\n */\nproto.dispatchEvent = function( type, event, args ) {\n  // add original event to arguments\n  var emitArgs = event ? [ event ].concat( args ) : args;\n  this.emitEvent( type, emitArgs );\n\n  if ( jQuery ) {\n    // set this.$element\n    this.$element = this.$element || jQuery( this.element );\n    if ( event ) {\n      // create jQuery event\n      var $event = jQuery.Event( event );\n      $event.type = type;\n      this.$element.trigger( $event, args );\n    } else {\n      // just trigger with type if no event available\n      this.$element.trigger( type, args );\n    }\n  }\n};\n\n// -------------------------- ignore & stamps -------------------------- //\n\n\n/**\n * keep item in collection, but do not lay it out\n * ignored items do not get skipped in layout\n * @param {Element} elem\n */\nproto.ignore = function( elem ) {\n  var item = this.getItem( elem );\n  if ( item ) {\n    item.isIgnored = true;\n  }\n};\n\n/**\n * return item to layout collection\n * @param {Element} elem\n */\nproto.unignore = function( elem ) {\n  var item = this.getItem( elem );\n  if ( item ) {\n    delete item.isIgnored;\n  }\n};\n\n/**\n * adds elements to stamps\n * @param {NodeList, Array, Element, or String} elems\n */\nproto.stamp = function( elems ) {\n  elems = this._find( elems );\n  if ( !elems ) {\n    return;\n  }\n\n  this.stamps = this.stamps.concat( elems );\n  // ignore\n  elems.forEach( this.ignore, this );\n};\n\n/**\n * removes elements to stamps\n * @param {NodeList, Array, or Element} elems\n */\nproto.unstamp = function( elems ) {\n  elems = this._find( elems );\n  if ( !elems ){\n    return;\n  }\n\n  elems.forEach( function( elem ) {\n    // filter out removed stamp elements\n    utils.removeFrom( this.stamps, elem );\n    this.unignore( elem );\n  }, this );\n};\n\n/**\n * finds child elements\n * @param {NodeList, Array, Element, or String} elems\n * @returns {Array} elems\n */\nproto._find = function( elems ) {\n  if ( !elems ) {\n    return;\n  }\n  // if string, use argument as selector string\n  if ( typeof elems == 'string' ) {\n    elems = this.element.querySelectorAll( elems );\n  }\n  elems = utils.makeArray( elems );\n  return elems;\n};\n\nproto._manageStamps = function() {\n  if ( !this.stamps || !this.stamps.length ) {\n    return;\n  }\n\n  this._getBoundingRect();\n\n  this.stamps.forEach( this._manageStamp, this );\n};\n\n// update boundingLeft / Top\nproto._getBoundingRect = function() {\n  // get bounding rect for container element\n  var boundingRect = this.element.getBoundingClientRect();\n  var size = this.size;\n  this._boundingRect = {\n    left: boundingRect.left + size.paddingLeft + size.borderLeftWidth,\n    top: boundingRect.top + size.paddingTop + size.borderTopWidth,\n    right: boundingRect.right - ( size.paddingRight + size.borderRightWidth ),\n    bottom: boundingRect.bottom - ( size.paddingBottom + size.borderBottomWidth )\n  };\n};\n\n/**\n * @param {Element} stamp\n**/\nproto._manageStamp = noop;\n\n/**\n * get x/y position of element relative to container element\n * @param {Element} elem\n * @returns {Object} offset - has left, top, right, bottom\n */\nproto._getElementOffset = function( elem ) {\n  var boundingRect = elem.getBoundingClientRect();\n  var thisRect = this._boundingRect;\n  var size = getSize( elem );\n  var offset = {\n    left: boundingRect.left - thisRect.left - size.marginLeft,\n    top: boundingRect.top - thisRect.top - size.marginTop,\n    right: thisRect.right - boundingRect.right - size.marginRight,\n    bottom: thisRect.bottom - boundingRect.bottom - size.marginBottom\n  };\n  return offset;\n};\n\n// -------------------------- resize -------------------------- //\n\n// enable event handlers for listeners\n// i.e. resize -> onresize\nproto.handleEvent = utils.handleEvent;\n\n/**\n * Bind layout to window resizing\n */\nproto.bindResize = function() {\n  window.addEventListener( 'resize', this );\n  this.isResizeBound = true;\n};\n\n/**\n * Unbind layout to window resizing\n */\nproto.unbindResize = function() {\n  window.removeEventListener( 'resize', this );\n  this.isResizeBound = false;\n};\n\nproto.onresize = function() {\n  this.resize();\n};\n\nutils.debounceMethod( Outlayer, 'onresize', 100 );\n\nproto.resize = function() {\n  // don't trigger if size did not change\n  // or if resize was unbound. See #9\n  if ( !this.isResizeBound || !this.needsResizeLayout() ) {\n    return;\n  }\n\n  this.layout();\n};\n\n/**\n * check if layout is needed post layout\n * @returns Boolean\n */\nproto.needsResizeLayout = function() {\n  var size = getSize( this.element );\n  // check that this.size and size are there\n  // IE8 triggers resize on body size change, so they might not be\n  var hasSizes = this.size && size;\n  return hasSizes && size.innerWidth !== this.size.innerWidth;\n};\n\n// -------------------------- methods -------------------------- //\n\n/**\n * add items to Outlayer instance\n * @param {Array or NodeList or Element} elems\n * @returns {Array} items - Outlayer.Items\n**/\nproto.addItems = function( elems ) {\n  var items = this._itemize( elems );\n  // add items to collection\n  if ( items.length ) {\n    this.items = this.items.concat( items );\n  }\n  return items;\n};\n\n/**\n * Layout newly-appended item elements\n * @param {Array or NodeList or Element} elems\n */\nproto.appended = function( elems ) {\n  var items = this.addItems( elems );\n  if ( !items.length ) {\n    return;\n  }\n  // layout and reveal just the new items\n  this.layoutItems( items, true );\n  this.reveal( items );\n};\n\n/**\n * Layout prepended elements\n * @param {Array or NodeList or Element} elems\n */\nproto.prepended = function( elems ) {\n  var items = this._itemize( elems );\n  if ( !items.length ) {\n    return;\n  }\n  // add items to beginning of collection\n  var previousItems = this.items.slice(0);\n  this.items = items.concat( previousItems );\n  // start new layout\n  this._resetLayout();\n  this._manageStamps();\n  // layout new stuff without transition\n  this.layoutItems( items, true );\n  this.reveal( items );\n  // layout previous items\n  this.layoutItems( previousItems );\n};\n\n/**\n * reveal a collection of items\n * @param {Array of Outlayer.Items} items\n */\nproto.reveal = function( items ) {\n  this._emitCompleteOnItems( 'reveal', items );\n  if ( !items || !items.length ) {\n    return;\n  }\n  var stagger = this.updateStagger();\n  items.forEach( function( item, i ) {\n    item.stagger( i * stagger );\n    item.reveal();\n  });\n};\n\n/**\n * hide a collection of items\n * @param {Array of Outlayer.Items} items\n */\nproto.hide = function( items ) {\n  this._emitCompleteOnItems( 'hide', items );\n  if ( !items || !items.length ) {\n    return;\n  }\n  var stagger = this.updateStagger();\n  items.forEach( function( item, i ) {\n    item.stagger( i * stagger );\n    item.hide();\n  });\n};\n\n/**\n * reveal item elements\n * @param {Array}, {Element}, {NodeList} items\n */\nproto.revealItemElements = function( elems ) {\n  var items = this.getItems( elems );\n  this.reveal( items );\n};\n\n/**\n * hide item elements\n * @param {Array}, {Element}, {NodeList} items\n */\nproto.hideItemElements = function( elems ) {\n  var items = this.getItems( elems );\n  this.hide( items );\n};\n\n/**\n * get Outlayer.Item, given an Element\n * @param {Element} elem\n * @param {Function} callback\n * @returns {Outlayer.Item} item\n */\nproto.getItem = function( elem ) {\n  // loop through items to get the one that matches\n  for ( var i=0; i < this.items.length; i++ ) {\n    var item = this.items[i];\n    if ( item.element == elem ) {\n      // return item\n      return item;\n    }\n  }\n};\n\n/**\n * get collection of Outlayer.Items, given Elements\n * @param {Array} elems\n * @returns {Array} items - Outlayer.Items\n */\nproto.getItems = function( elems ) {\n  elems = utils.makeArray( elems );\n  var items = [];\n  elems.forEach( function( elem ) {\n    var item = this.getItem( elem );\n    if ( item ) {\n      items.push( item );\n    }\n  }, this );\n\n  return items;\n};\n\n/**\n * remove element(s) from instance and DOM\n * @param {Array or NodeList or Element} elems\n */\nproto.remove = function( elems ) {\n  var removeItems = this.getItems( elems );\n\n  this._emitCompleteOnItems( 'remove', removeItems );\n\n  // bail if no items to remove\n  if ( !removeItems || !removeItems.length ) {\n    return;\n  }\n\n  removeItems.forEach( function( item ) {\n    item.remove();\n    // remove item from collection\n    utils.removeFrom( this.items, item );\n  }, this );\n};\n\n// ----- destroy ----- //\n\n// remove and disable Outlayer instance\nproto.destroy = function() {\n  // clean up dynamic styles\n  var style = this.element.style;\n  style.height = '';\n  style.position = '';\n  style.width = '';\n  // destroy items\n  this.items.forEach( function( item ) {\n    item.destroy();\n  });\n\n  this.unbindResize();\n\n  var id = this.element.outlayerGUID;\n  delete instances[ id ]; // remove reference to instance by id\n  delete this.element.outlayerGUID;\n  // remove data for jQuery\n  if ( jQuery ) {\n    jQuery.removeData( this.element, this.constructor.namespace );\n  }\n\n};\n\n// -------------------------- data -------------------------- //\n\n/**\n * get Outlayer instance from element\n * @param {Element} elem\n * @returns {Outlayer}\n */\nOutlayer.data = function( elem ) {\n  elem = utils.getQueryElement( elem );\n  var id = elem && elem.outlayerGUID;\n  return id && instances[ id ];\n};\n\n\n// -------------------------- create Outlayer class -------------------------- //\n\n/**\n * create a layout class\n * @param {String} namespace\n */\nOutlayer.create = function( namespace, options ) {\n  // sub-class Outlayer\n  var Layout = subclass( Outlayer );\n  // apply new options and compatOptions\n  Layout.defaults = utils.extend( {}, Outlayer.defaults );\n  utils.extend( Layout.defaults, options );\n  Layout.compatOptions = utils.extend( {}, Outlayer.compatOptions  );\n\n  Layout.namespace = namespace;\n\n  Layout.data = Outlayer.data;\n\n  // sub-class Item\n  Layout.Item = subclass( Item );\n\n  // -------------------------- declarative -------------------------- //\n\n  utils.htmlInit( Layout, namespace );\n\n  // -------------------------- jQuery bridge -------------------------- //\n\n  // make into jQuery plugin\n  if ( jQuery && jQuery.bridget ) {\n    jQuery.bridget( namespace, Layout );\n  }\n\n  return Layout;\n};\n\nfunction subclass( Parent ) {\n  function SubClass() {\n    Parent.apply( this, arguments );\n  }\n\n  SubClass.prototype = Object.create( Parent.prototype );\n  SubClass.prototype.constructor = SubClass;\n\n  return SubClass;\n}\n\n// ----- helpers ----- //\n\n// how many milliseconds are in each unit\nvar msUnits = {\n  ms: 1,\n  s: 1000\n};\n\n// munge time-like parameter into millisecond number\n// '0.4s' -> 40\nfunction getMilliseconds( time ) {\n  if ( typeof time == 'number' ) {\n    return time;\n  }\n  var matches = time.match( /(^\\d*\\.?\\d*)(\\w*)/ );\n  var num = matches && matches[1];\n  var unit = matches && matches[2];\n  if ( !num.length ) {\n    return 0;\n  }\n  num = parseFloat( num );\n  var mult = msUnits[ unit ] || 1;\n  return num * mult;\n}\n\n// ----- fin ----- //\n\n// back in global\nOutlayer.Item = Item;\n\nreturn Outlayer;\n\n}));\n","/*!\n  * PhotoSwipe Lightbox 5.4.3 - https://photoswipe.com\n  * (c) 2023 Dmytro Semenov\n  */\n/** @typedef {import('../photoswipe.js').Point} Point */\n\n/**\r\n * @template {keyof HTMLElementTagNameMap} T\r\n * @param {string} className\r\n * @param {T} tagName\r\n * @param {Node} [appendToEl]\r\n * @returns {HTMLElementTagNameMap[T]}\r\n */\nfunction createElement(className, tagName, appendToEl) {\n  const el = document.createElement(tagName);\n\n  if (className) {\n    el.className = className;\n  }\n\n  if (appendToEl) {\n    appendToEl.appendChild(el);\n  }\n\n  return el;\n}\n/**\r\n * Get transform string\r\n *\r\n * @param {number} x\r\n * @param {number} [y]\r\n * @param {number} [scale]\r\n * @returns {string}\r\n */\n\nfunction toTransformString(x, y, scale) {\n  let propValue = `translate3d(${x}px,${y || 0}px,0)`;\n\n  if (scale !== undefined) {\n    propValue += ` scale3d(${scale},${scale},1)`;\n  }\n\n  return propValue;\n}\n/**\r\n * Apply width and height CSS properties to element\r\n *\r\n * @param {HTMLElement} el\r\n * @param {string | number} w\r\n * @param {string | number} h\r\n */\n\nfunction setWidthHeight(el, w, h) {\n  el.style.width = typeof w === 'number' ? `${w}px` : w;\n  el.style.height = typeof h === 'number' ? `${h}px` : h;\n}\n/** @typedef {LOAD_STATE[keyof LOAD_STATE]} LoadState */\n\n/** @type {{ IDLE: 'idle'; LOADING: 'loading'; LOADED: 'loaded'; ERROR: 'error' }} */\n\nconst LOAD_STATE = {\n  IDLE: 'idle',\n  LOADING: 'loading',\n  LOADED: 'loaded',\n  ERROR: 'error'\n};\n/**\r\n * Check if click or keydown event was dispatched\r\n * with a special key or via mouse wheel.\r\n *\r\n * @param {MouseEvent | KeyboardEvent} e\r\n * @returns {boolean}\r\n */\n\nfunction specialKeyUsed(e) {\n  return 'button' in e && e.button === 1 || e.ctrlKey || e.metaKey || e.altKey || e.shiftKey;\n}\n/**\r\n * Parse `gallery` or `children` options.\r\n *\r\n * @param {import('../photoswipe.js').ElementProvider} [option]\r\n * @param {string} [legacySelector]\r\n * @param {HTMLElement | Document} [parent]\r\n * @returns HTMLElement[]\r\n */\n\nfunction getElementsFromOption(option, legacySelector, parent = document) {\n  /** @type {HTMLElement[]} */\n  let elements = [];\n\n  if (option instanceof Element) {\n    elements = [option];\n  } else if (option instanceof NodeList || Array.isArray(option)) {\n    elements = Array.from(option);\n  } else {\n    const selector = typeof option === 'string' ? option : legacySelector;\n\n    if (selector) {\n      elements = Array.from(parent.querySelectorAll(selector));\n    }\n  }\n\n  return elements;\n}\n/**\r\n * Check if variable is PhotoSwipe class\r\n *\r\n * @param {any} fn\r\n * @returns {boolean}\r\n */\n\nfunction isPswpClass(fn) {\n  return typeof fn === 'function' && fn.prototype && fn.prototype.goTo;\n}\n/**\r\n * Check if browser is Safari\r\n *\r\n * @returns {boolean}\r\n */\n\nfunction isSafari() {\n  return !!(navigator.vendor && navigator.vendor.match(/apple/i));\n}\n\n/** @typedef {import('../lightbox/lightbox.js').default} PhotoSwipeLightbox */\n\n/** @typedef {import('../photoswipe.js').default} PhotoSwipe */\n\n/** @typedef {import('../photoswipe.js').PhotoSwipeOptions} PhotoSwipeOptions */\n\n/** @typedef {import('../photoswipe.js').DataSource} DataSource */\n\n/** @typedef {import('../ui/ui-element.js').UIElementData} UIElementData */\n\n/** @typedef {import('../slide/content.js').default} ContentDefault */\n\n/** @typedef {import('../slide/slide.js').default} Slide */\n\n/** @typedef {import('../slide/slide.js').SlideData} SlideData */\n\n/** @typedef {import('../slide/zoom-level.js').default} ZoomLevel */\n\n/** @typedef {import('../slide/get-thumb-bounds.js').Bounds} Bounds */\n\n/**\r\n * Allow adding an arbitrary props to the Content\r\n * https://photoswipe.com/custom-content/#using-webp-image-format\r\n * @typedef {ContentDefault & Record<string, any>} Content\r\n */\n\n/** @typedef {{ x?: number; y?: number }} Point */\n\n/**\r\n * @typedef {Object} PhotoSwipeEventsMap https://photoswipe.com/events/\r\n *\r\n *\r\n * https://photoswipe.com/adding-ui-elements/\r\n *\r\n * @prop {undefined} uiRegister\r\n * @prop {{ data: UIElementData }} uiElementCreate\r\n *\r\n *\r\n * https://photoswipe.com/events/#initialization-events\r\n *\r\n * @prop {undefined} beforeOpen\r\n * @prop {undefined} firstUpdate\r\n * @prop {undefined} initialLayout\r\n * @prop {undefined} change\r\n * @prop {undefined} afterInit\r\n * @prop {undefined} bindEvents\r\n *\r\n *\r\n * https://photoswipe.com/events/#opening-or-closing-transition-events\r\n *\r\n * @prop {undefined} openingAnimationStart\r\n * @prop {undefined} openingAnimationEnd\r\n * @prop {undefined} closingAnimationStart\r\n * @prop {undefined} closingAnimationEnd\r\n *\r\n *\r\n * https://photoswipe.com/events/#closing-events\r\n *\r\n * @prop {undefined} close\r\n * @prop {undefined} destroy\r\n *\r\n *\r\n * https://photoswipe.com/events/#pointer-and-gesture-events\r\n *\r\n * @prop {{ originalEvent: PointerEvent }} pointerDown\r\n * @prop {{ originalEvent: PointerEvent }} pointerMove\r\n * @prop {{ originalEvent: PointerEvent }} pointerUp\r\n * @prop {{ bgOpacity: number }} pinchClose can be default prevented\r\n * @prop {{ panY: number }} verticalDrag can be default prevented\r\n *\r\n *\r\n * https://photoswipe.com/events/#slide-content-events\r\n *\r\n * @prop {{ content: Content }} contentInit\r\n * @prop {{ content: Content; isLazy: boolean }} contentLoad can be default prevented\r\n * @prop {{ content: Content; isLazy: boolean }} contentLoadImage can be default prevented\r\n * @prop {{ content: Content; slide: Slide; isError?: boolean }} loadComplete\r\n * @prop {{ content: Content; slide: Slide }} loadError\r\n * @prop {{ content: Content; width: number; height: number }} contentResize can be default prevented\r\n * @prop {{ content: Content; width: number; height: number; slide: Slide }} imageSizeChange\r\n * @prop {{ content: Content }} contentLazyLoad can be default prevented\r\n * @prop {{ content: Content }} contentAppend can be default prevented\r\n * @prop {{ content: Content }} contentActivate can be default prevented\r\n * @prop {{ content: Content }} contentDeactivate can be default prevented\r\n * @prop {{ content: Content }} contentRemove can be default prevented\r\n * @prop {{ content: Content }} contentDestroy can be default prevented\r\n *\r\n *\r\n * undocumented\r\n *\r\n * @prop {{ point: Point; originalEvent: PointerEvent }} imageClickAction can be default prevented\r\n * @prop {{ point: Point; originalEvent: PointerEvent }} bgClickAction can be default prevented\r\n * @prop {{ point: Point; originalEvent: PointerEvent }} tapAction can be default prevented\r\n * @prop {{ point: Point; originalEvent: PointerEvent }} doubleTapAction can be default prevented\r\n *\r\n * @prop {{ originalEvent: KeyboardEvent }} keydown can be default prevented\r\n * @prop {{ x: number; dragging: boolean }} moveMainScroll\r\n * @prop {{ slide: Slide }} firstZoomPan\r\n * @prop {{ slide: Slide | undefined, data: SlideData, index: number }} gettingData\r\n * @prop {undefined} beforeResize\r\n * @prop {undefined} resize\r\n * @prop {undefined} viewportSize\r\n * @prop {undefined} updateScrollOffset\r\n * @prop {{ slide: Slide }} slideInit\r\n * @prop {{ slide: Slide }} afterSetContent\r\n * @prop {{ slide: Slide }} slideLoad\r\n * @prop {{ slide: Slide }} appendHeavy can be default prevented\r\n * @prop {{ slide: Slide }} appendHeavyContent\r\n * @prop {{ slide: Slide }} slideActivate\r\n * @prop {{ slide: Slide }} slideDeactivate\r\n * @prop {{ slide: Slide }} slideDestroy\r\n * @prop {{ destZoomLevel: number, centerPoint: Point | undefined, transitionDuration: number | false | undefined }} beforeZoomTo\r\n * @prop {{ slide: Slide }} zoomPanUpdate\r\n * @prop {{ slide: Slide }} initialZoomPan\r\n * @prop {{ slide: Slide }} calcSlideSize\r\n * @prop {undefined} resolutionChanged\r\n * @prop {{ originalEvent: WheelEvent }} wheel can be default prevented\r\n * @prop {{ content: Content }} contentAppendImage can be default prevented\r\n * @prop {{ index: number; itemData: SlideData }} lazyLoadSlide can be default prevented\r\n * @prop {undefined} lazyLoad\r\n * @prop {{ slide: Slide }} calcBounds\r\n * @prop {{ zoomLevels: ZoomLevel, slideData: SlideData }} zoomLevelsUpdate\r\n *\r\n *\r\n * legacy\r\n *\r\n * @prop {undefined} init\r\n * @prop {undefined} initialZoomIn\r\n * @prop {undefined} initialZoomOut\r\n * @prop {undefined} initialZoomInEnd\r\n * @prop {undefined} initialZoomOutEnd\r\n * @prop {{ dataSource: DataSource | undefined, numItems: number }} numItems\r\n * @prop {{ itemData: SlideData; index: number }} itemData\r\n * @prop {{ index: number, itemData: SlideData, instance: PhotoSwipe }} thumbBounds\r\n */\n\n/**\r\n * @typedef {Object} PhotoSwipeFiltersMap https://photoswipe.com/filters/\r\n *\r\n * @prop {(numItems: number, dataSource: DataSource | undefined) => number} numItems\r\n * Modify the total amount of slides. Example on Data sources page.\r\n * https://photoswipe.com/filters/#numitems\r\n *\r\n * @prop {(itemData: SlideData, index: number) => SlideData} itemData\r\n * Modify slide item data. Example on Data sources page.\r\n * https://photoswipe.com/filters/#itemdata\r\n *\r\n * @prop {(itemData: SlideData, element: HTMLElement, linkEl: HTMLAnchorElement) => SlideData} domItemData\r\n * Modify item data when it's parsed from DOM element. Example on Data sources page.\r\n * https://photoswipe.com/filters/#domitemdata\r\n *\r\n * @prop {(clickedIndex: number, e: MouseEvent, instance: PhotoSwipeLightbox) => number} clickedIndex\r\n * Modify clicked gallery item index.\r\n * https://photoswipe.com/filters/#clickedindex\r\n *\r\n * @prop {(placeholderSrc: string | false, content: Content) => string | false} placeholderSrc\r\n * Modify placeholder image source.\r\n * https://photoswipe.com/filters/#placeholdersrc\r\n *\r\n * @prop {(isContentLoading: boolean, content: Content) => boolean} isContentLoading\r\n * Modify if the content is currently loading.\r\n * https://photoswipe.com/filters/#iscontentloading\r\n *\r\n * @prop {(isContentZoomable: boolean, content: Content) => boolean} isContentZoomable\r\n * Modify if the content can be zoomed.\r\n * https://photoswipe.com/filters/#iscontentzoomable\r\n *\r\n * @prop {(useContentPlaceholder: boolean, content: Content) => boolean} useContentPlaceholder\r\n * Modify if the placeholder should be used for the content.\r\n * https://photoswipe.com/filters/#usecontentplaceholder\r\n *\r\n * @prop {(isKeepingPlaceholder: boolean, content: Content) => boolean} isKeepingPlaceholder\r\n * Modify if the placeholder should be kept after the content is loaded.\r\n * https://photoswipe.com/filters/#iskeepingplaceholder\r\n *\r\n *\r\n * @prop {(contentErrorElement: HTMLElement, content: Content) => HTMLElement} contentErrorElement\r\n * Modify an element when the content has error state (for example, if image cannot be loaded).\r\n * https://photoswipe.com/filters/#contenterrorelement\r\n *\r\n * @prop {(element: HTMLElement, data: UIElementData) => HTMLElement} uiElement\r\n * Modify a UI element that's being created.\r\n * https://photoswipe.com/filters/#uielement\r\n *\r\n * @prop {(thumbnail: HTMLElement | null | undefined, itemData: SlideData, index: number) => HTMLElement} thumbEl\r\n * Modify the thumbnail element from which opening zoom animation starts or ends.\r\n * https://photoswipe.com/filters/#thumbel\r\n *\r\n * @prop {(thumbBounds: Bounds | undefined, itemData: SlideData, index: number) => Bounds} thumbBounds\r\n * Modify the thumbnail bounds from which opening zoom animation starts or ends.\r\n * https://photoswipe.com/filters/#thumbbounds\r\n *\r\n * @prop {(srcsetSizesWidth: number, content: Content) => number} srcsetSizesWidth\r\n *\r\n * @prop {(preventPointerEvent: boolean, event: PointerEvent, pointerType: string) => boolean} preventPointerEvent\r\n *\r\n */\n\n/**\r\n * @template {keyof PhotoSwipeFiltersMap} T\r\n * @typedef {{ fn: PhotoSwipeFiltersMap[T], priority: number }} Filter\r\n */\n\n/**\r\n * @template {keyof PhotoSwipeEventsMap} T\r\n * @typedef {PhotoSwipeEventsMap[T] extends undefined ? PhotoSwipeEvent<T> : PhotoSwipeEvent<T> & PhotoSwipeEventsMap[T]} AugmentedEvent\r\n */\n\n/**\r\n * @template {keyof PhotoSwipeEventsMap} T\r\n * @typedef {(event: AugmentedEvent<T>) => void} EventCallback\r\n */\n\n/**\r\n * Base PhotoSwipe event object\r\n *\r\n * @template {keyof PhotoSwipeEventsMap} T\r\n */\nclass PhotoSwipeEvent {\n  /**\r\n   * @param {T} type\r\n   * @param {PhotoSwipeEventsMap[T]} [details]\r\n   */\n  constructor(type, details) {\n    this.type = type;\n    this.defaultPrevented = false;\n\n    if (details) {\n      Object.assign(this, details);\n    }\n  }\n\n  preventDefault() {\n    this.defaultPrevented = true;\n  }\n\n}\n/**\r\n * PhotoSwipe base class that can listen and dispatch for events.\r\n * Shared by PhotoSwipe Core and PhotoSwipe Lightbox, extended by base.js\r\n */\n\n\nclass Eventable {\n  constructor() {\n    /**\r\n     * @type {{ [T in keyof PhotoSwipeEventsMap]?: ((event: AugmentedEvent<T>) => void)[] }}\r\n     */\n    this._listeners = {};\n    /**\r\n     * @type {{ [T in keyof PhotoSwipeFiltersMap]?: Filter<T>[] }}\r\n     */\n\n    this._filters = {};\n    /** @type {PhotoSwipe | undefined} */\n\n    this.pswp = undefined;\n    /** @type {PhotoSwipeOptions | undefined} */\n\n    this.options = undefined;\n  }\n  /**\r\n   * @template {keyof PhotoSwipeFiltersMap} T\r\n   * @param {T} name\r\n   * @param {PhotoSwipeFiltersMap[T]} fn\r\n   * @param {number} priority\r\n   */\n\n\n  addFilter(name, fn, priority = 100) {\n    var _this$_filters$name, _this$_filters$name2, _this$pswp;\n\n    if (!this._filters[name]) {\n      this._filters[name] = [];\n    }\n\n    (_this$_filters$name = this._filters[name]) === null || _this$_filters$name === void 0 || _this$_filters$name.push({\n      fn,\n      priority\n    });\n    (_this$_filters$name2 = this._filters[name]) === null || _this$_filters$name2 === void 0 || _this$_filters$name2.sort((f1, f2) => f1.priority - f2.priority);\n    (_this$pswp = this.pswp) === null || _this$pswp === void 0 || _this$pswp.addFilter(name, fn, priority);\n  }\n  /**\r\n   * @template {keyof PhotoSwipeFiltersMap} T\r\n   * @param {T} name\r\n   * @param {PhotoSwipeFiltersMap[T]} fn\r\n   */\n\n\n  removeFilter(name, fn) {\n    if (this._filters[name]) {\n      // @ts-expect-error\n      this._filters[name] = this._filters[name].filter(filter => filter.fn !== fn);\n    }\n\n    if (this.pswp) {\n      this.pswp.removeFilter(name, fn);\n    }\n  }\n  /**\r\n   * @template {keyof PhotoSwipeFiltersMap} T\r\n   * @param {T} name\r\n   * @param {Parameters<PhotoSwipeFiltersMap[T]>} args\r\n   * @returns {Parameters<PhotoSwipeFiltersMap[T]>[0]}\r\n   */\n\n\n  applyFilters(name, ...args) {\n    var _this$_filters$name3;\n\n    (_this$_filters$name3 = this._filters[name]) === null || _this$_filters$name3 === void 0 || _this$_filters$name3.forEach(filter => {\n      // @ts-expect-error\n      args[0] = filter.fn.apply(this, args);\n    });\n    return args[0];\n  }\n  /**\r\n   * @template {keyof PhotoSwipeEventsMap} T\r\n   * @param {T} name\r\n   * @param {EventCallback<T>} fn\r\n   */\n\n\n  on(name, fn) {\n    var _this$_listeners$name, _this$pswp2;\n\n    if (!this._listeners[name]) {\n      this._listeners[name] = [];\n    }\n\n    (_this$_listeners$name = this._listeners[name]) === null || _this$_listeners$name === void 0 || _this$_listeners$name.push(fn); // When binding events to lightbox,\n    // also bind events to PhotoSwipe Core,\n    // if it's open.\n\n    (_this$pswp2 = this.pswp) === null || _this$pswp2 === void 0 || _this$pswp2.on(name, fn);\n  }\n  /**\r\n   * @template {keyof PhotoSwipeEventsMap} T\r\n   * @param {T} name\r\n   * @param {EventCallback<T>} fn\r\n   */\n\n\n  off(name, fn) {\n    var _this$pswp3;\n\n    if (this._listeners[name]) {\n      // @ts-expect-error\n      this._listeners[name] = this._listeners[name].filter(listener => fn !== listener);\n    }\n\n    (_this$pswp3 = this.pswp) === null || _this$pswp3 === void 0 || _this$pswp3.off(name, fn);\n  }\n  /**\r\n   * @template {keyof PhotoSwipeEventsMap} T\r\n   * @param {T} name\r\n   * @param {PhotoSwipeEventsMap[T]} [details]\r\n   * @returns {AugmentedEvent<T>}\r\n   */\n\n\n  dispatch(name, details) {\n    var _this$_listeners$name2;\n\n    if (this.pswp) {\n      return this.pswp.dispatch(name, details);\n    }\n\n    const event =\n    /** @type {AugmentedEvent<T>} */\n    new PhotoSwipeEvent(name, details);\n    (_this$_listeners$name2 = this._listeners[name]) === null || _this$_listeners$name2 === void 0 || _this$_listeners$name2.forEach(listener => {\n      listener.call(this, event);\n    });\n    return event;\n  }\n\n}\n\nclass Placeholder {\n  /**\r\n   * @param {string | false} imageSrc\r\n   * @param {HTMLElement} container\r\n   */\n  constructor(imageSrc, container) {\n    // Create placeholder\n    // (stretched thumbnail or simple div behind the main image)\n\n    /** @type {HTMLImageElement | HTMLDivElement | null} */\n    this.element = createElement('pswp__img pswp__img--placeholder', imageSrc ? 'img' : 'div', container);\n\n    if (imageSrc) {\n      const imgEl =\n      /** @type {HTMLImageElement} */\n      this.element;\n      imgEl.decoding = 'async';\n      imgEl.alt = '';\n      imgEl.src = imageSrc;\n      imgEl.setAttribute('role', 'presentation');\n    }\n\n    this.element.setAttribute('aria-hidden', 'true');\n  }\n  /**\r\n   * @param {number} width\r\n   * @param {number} height\r\n   */\n\n\n  setDisplayedSize(width, height) {\n    if (!this.element) {\n      return;\n    }\n\n    if (this.element.tagName === 'IMG') {\n      // Use transform scale() to modify img placeholder size\n      // (instead of changing width/height directly).\n      // This helps with performance, specifically in iOS15 Safari.\n      setWidthHeight(this.element, 250, 'auto');\n      this.element.style.transformOrigin = '0 0';\n      this.element.style.transform = toTransformString(0, 0, width / 250);\n    } else {\n      setWidthHeight(this.element, width, height);\n    }\n  }\n\n  destroy() {\n    var _this$element;\n\n    if ((_this$element = this.element) !== null && _this$element !== void 0 && _this$element.parentNode) {\n      this.element.remove();\n    }\n\n    this.element = null;\n  }\n\n}\n\n/** @typedef {import('./slide.js').default} Slide */\n\n/** @typedef {import('./slide.js').SlideData} SlideData */\n\n/** @typedef {import('../core/base.js').default} PhotoSwipeBase */\n\n/** @typedef {import('../util/util.js').LoadState} LoadState */\n\nclass Content {\n  /**\r\n   * @param {SlideData} itemData Slide data\r\n   * @param {PhotoSwipeBase} instance PhotoSwipe or PhotoSwipeLightbox instance\r\n   * @param {number} index\r\n   */\n  constructor(itemData, instance, index) {\n    this.instance = instance;\n    this.data = itemData;\n    this.index = index;\n    /** @type {HTMLImageElement | HTMLDivElement | undefined} */\n\n    this.element = undefined;\n    /** @type {Placeholder | undefined} */\n\n    this.placeholder = undefined;\n    /** @type {Slide | undefined} */\n\n    this.slide = undefined;\n    this.displayedImageWidth = 0;\n    this.displayedImageHeight = 0;\n    this.width = Number(this.data.w) || Number(this.data.width) || 0;\n    this.height = Number(this.data.h) || Number(this.data.height) || 0;\n    this.isAttached = false;\n    this.hasSlide = false;\n    this.isDecoding = false;\n    /** @type {LoadState} */\n\n    this.state = LOAD_STATE.IDLE;\n\n    if (this.data.type) {\n      this.type = this.data.type;\n    } else if (this.data.src) {\n      this.type = 'image';\n    } else {\n      this.type = 'html';\n    }\n\n    this.instance.dispatch('contentInit', {\n      content: this\n    });\n  }\n\n  removePlaceholder() {\n    if (this.placeholder && !this.keepPlaceholder()) {\n      // With delay, as image might be loaded, but not rendered\n      setTimeout(() => {\n        if (this.placeholder) {\n          this.placeholder.destroy();\n          this.placeholder = undefined;\n        }\n      }, 1000);\n    }\n  }\n  /**\r\n   * Preload content\r\n   *\r\n   * @param {boolean} isLazy\r\n   * @param {boolean} [reload]\r\n   */\n\n\n  load(isLazy, reload) {\n    if (this.slide && this.usePlaceholder()) {\n      if (!this.placeholder) {\n        const placeholderSrc = this.instance.applyFilters('placeholderSrc', // use  image-based placeholder only for the first slide,\n        // as rendering (even small stretched thumbnail) is an expensive operation\n        this.data.msrc && this.slide.isFirstSlide ? this.data.msrc : false, this);\n        this.placeholder = new Placeholder(placeholderSrc, this.slide.container);\n      } else {\n        const placeholderEl = this.placeholder.element; // Add placeholder to DOM if it was already created\n\n        if (placeholderEl && !placeholderEl.parentElement) {\n          this.slide.container.prepend(placeholderEl);\n        }\n      }\n    }\n\n    if (this.element && !reload) {\n      return;\n    }\n\n    if (this.instance.dispatch('contentLoad', {\n      content: this,\n      isLazy\n    }).defaultPrevented) {\n      return;\n    }\n\n    if (this.isImageContent()) {\n      this.element = createElement('pswp__img', 'img'); // Start loading only after width is defined, as sizes might depend on it.\n      // Due to Safari feature, we must define sizes before srcset.\n\n      if (this.displayedImageWidth) {\n        this.loadImage(isLazy);\n      }\n    } else {\n      this.element = createElement('pswp__content', 'div');\n      this.element.innerHTML = this.data.html || '';\n    }\n\n    if (reload && this.slide) {\n      this.slide.updateContentSize(true);\n    }\n  }\n  /**\r\n   * Preload image\r\n   *\r\n   * @param {boolean} isLazy\r\n   */\n\n\n  loadImage(isLazy) {\n    var _this$data$src, _this$data$alt;\n\n    if (!this.isImageContent() || !this.element || this.instance.dispatch('contentLoadImage', {\n      content: this,\n      isLazy\n    }).defaultPrevented) {\n      return;\n    }\n\n    const imageElement =\n    /** @type HTMLImageElement */\n    this.element;\n    this.updateSrcsetSizes();\n\n    if (this.data.srcset) {\n      imageElement.srcset = this.data.srcset;\n    }\n\n    imageElement.src = (_this$data$src = this.data.src) !== null && _this$data$src !== void 0 ? _this$data$src : '';\n    imageElement.alt = (_this$data$alt = this.data.alt) !== null && _this$data$alt !== void 0 ? _this$data$alt : '';\n    this.state = LOAD_STATE.LOADING;\n\n    if (imageElement.complete) {\n      this.onLoaded();\n    } else {\n      imageElement.onload = () => {\n        this.onLoaded();\n      };\n\n      imageElement.onerror = () => {\n        this.onError();\n      };\n    }\n  }\n  /**\r\n   * Assign slide to content\r\n   *\r\n   * @param {Slide} slide\r\n   */\n\n\n  setSlide(slide) {\n    this.slide = slide;\n    this.hasSlide = true;\n    this.instance = slide.pswp; // todo: do we need to unset slide?\n  }\n  /**\r\n   * Content load success handler\r\n   */\n\n\n  onLoaded() {\n    this.state = LOAD_STATE.LOADED;\n\n    if (this.slide && this.element) {\n      this.instance.dispatch('loadComplete', {\n        slide: this.slide,\n        content: this\n      }); // if content is reloaded\n\n      if (this.slide.isActive && this.slide.heavyAppended && !this.element.parentNode) {\n        this.append();\n        this.slide.updateContentSize(true);\n      }\n\n      if (this.state === LOAD_STATE.LOADED || this.state === LOAD_STATE.ERROR) {\n        this.removePlaceholder();\n      }\n    }\n  }\n  /**\r\n   * Content load error handler\r\n   */\n\n\n  onError() {\n    this.state = LOAD_STATE.ERROR;\n\n    if (this.slide) {\n      this.displayError();\n      this.instance.dispatch('loadComplete', {\n        slide: this.slide,\n        isError: true,\n        content: this\n      });\n      this.instance.dispatch('loadError', {\n        slide: this.slide,\n        content: this\n      });\n    }\n  }\n  /**\r\n   * @returns {Boolean} If the content is currently loading\r\n   */\n\n\n  isLoading() {\n    return this.instance.applyFilters('isContentLoading', this.state === LOAD_STATE.LOADING, this);\n  }\n  /**\r\n   * @returns {Boolean} If the content is in error state\r\n   */\n\n\n  isError() {\n    return this.state === LOAD_STATE.ERROR;\n  }\n  /**\r\n   * @returns {boolean} If the content is image\r\n   */\n\n\n  isImageContent() {\n    return this.type === 'image';\n  }\n  /**\r\n   * Update content size\r\n   *\r\n   * @param {Number} width\r\n   * @param {Number} height\r\n   */\n\n\n  setDisplayedSize(width, height) {\n    if (!this.element) {\n      return;\n    }\n\n    if (this.placeholder) {\n      this.placeholder.setDisplayedSize(width, height);\n    }\n\n    if (this.instance.dispatch('contentResize', {\n      content: this,\n      width,\n      height\n    }).defaultPrevented) {\n      return;\n    }\n\n    setWidthHeight(this.element, width, height);\n\n    if (this.isImageContent() && !this.isError()) {\n      const isInitialSizeUpdate = !this.displayedImageWidth && width;\n      this.displayedImageWidth = width;\n      this.displayedImageHeight = height;\n\n      if (isInitialSizeUpdate) {\n        this.loadImage(false);\n      } else {\n        this.updateSrcsetSizes();\n      }\n\n      if (this.slide) {\n        this.instance.dispatch('imageSizeChange', {\n          slide: this.slide,\n          width,\n          height,\n          content: this\n        });\n      }\n    }\n  }\n  /**\r\n   * @returns {boolean} If the content can be zoomed\r\n   */\n\n\n  isZoomable() {\n    return this.instance.applyFilters('isContentZoomable', this.isImageContent() && this.state !== LOAD_STATE.ERROR, this);\n  }\n  /**\r\n   * Update image srcset sizes attribute based on width and height\r\n   */\n\n\n  updateSrcsetSizes() {\n    // Handle srcset sizes attribute.\n    //\n    // Never lower quality, if it was increased previously.\n    // Chrome does this automatically, Firefox and Safari do not,\n    // so we store largest used size in dataset.\n    if (!this.isImageContent() || !this.element || !this.data.srcset) {\n      return;\n    }\n\n    const image =\n    /** @type HTMLImageElement */\n    this.element;\n    const sizesWidth = this.instance.applyFilters('srcsetSizesWidth', this.displayedImageWidth, this);\n\n    if (!image.dataset.largestUsedSize || sizesWidth > parseInt(image.dataset.largestUsedSize, 10)) {\n      image.sizes = sizesWidth + 'px';\n      image.dataset.largestUsedSize = String(sizesWidth);\n    }\n  }\n  /**\r\n   * @returns {boolean} If content should use a placeholder (from msrc by default)\r\n   */\n\n\n  usePlaceholder() {\n    return this.instance.applyFilters('useContentPlaceholder', this.isImageContent(), this);\n  }\n  /**\r\n   * Preload content with lazy-loading param\r\n   */\n\n\n  lazyLoad() {\n    if (this.instance.dispatch('contentLazyLoad', {\n      content: this\n    }).defaultPrevented) {\n      return;\n    }\n\n    this.load(true);\n  }\n  /**\r\n   * @returns {boolean} If placeholder should be kept after content is loaded\r\n   */\n\n\n  keepPlaceholder() {\n    return this.instance.applyFilters('isKeepingPlaceholder', this.isLoading(), this);\n  }\n  /**\r\n   * Destroy the content\r\n   */\n\n\n  destroy() {\n    this.hasSlide = false;\n    this.slide = undefined;\n\n    if (this.instance.dispatch('contentDestroy', {\n      content: this\n    }).defaultPrevented) {\n      return;\n    }\n\n    this.remove();\n\n    if (this.placeholder) {\n      this.placeholder.destroy();\n      this.placeholder = undefined;\n    }\n\n    if (this.isImageContent() && this.element) {\n      this.element.onload = null;\n      this.element.onerror = null;\n      this.element = undefined;\n    }\n  }\n  /**\r\n   * Display error message\r\n   */\n\n\n  displayError() {\n    if (this.slide) {\n      var _this$instance$option, _this$instance$option2;\n\n      let errorMsgEl = createElement('pswp__error-msg', 'div');\n      errorMsgEl.innerText = (_this$instance$option = (_this$instance$option2 = this.instance.options) === null || _this$instance$option2 === void 0 ? void 0 : _this$instance$option2.errorMsg) !== null && _this$instance$option !== void 0 ? _this$instance$option : '';\n      errorMsgEl =\n      /** @type {HTMLDivElement} */\n      this.instance.applyFilters('contentErrorElement', errorMsgEl, this);\n      this.element = createElement('pswp__content pswp__error-msg-container', 'div');\n      this.element.appendChild(errorMsgEl);\n      this.slide.container.innerText = '';\n      this.slide.container.appendChild(this.element);\n      this.slide.updateContentSize(true);\n      this.removePlaceholder();\n    }\n  }\n  /**\r\n   * Append the content\r\n   */\n\n\n  append() {\n    if (this.isAttached || !this.element) {\n      return;\n    }\n\n    this.isAttached = true;\n\n    if (this.state === LOAD_STATE.ERROR) {\n      this.displayError();\n      return;\n    }\n\n    if (this.instance.dispatch('contentAppend', {\n      content: this\n    }).defaultPrevented) {\n      return;\n    }\n\n    const supportsDecode = ('decode' in this.element);\n\n    if (this.isImageContent()) {\n      // Use decode() on nearby slides\n      //\n      // Nearby slide images are in DOM and not hidden via display:none.\n      // However, they are placed offscreen (to the left and right side).\n      //\n      // Some browsers do not composite the image until it's actually visible,\n      // using decode() helps.\n      //\n      // You might ask \"why dont you just decode() and then append all images\",\n      // that's because I want to show image before it's fully loaded,\n      // as browser can render parts of image while it is loading.\n      // We do not do this in Safari due to partial loading bug.\n      if (supportsDecode && this.slide && (!this.slide.isActive || isSafari())) {\n        this.isDecoding = true; // purposefully using finally instead of then,\n        // as if srcset sizes changes dynamically - it may cause decode error\n\n        /** @type {HTMLImageElement} */\n\n        this.element.decode().catch(() => {}).finally(() => {\n          this.isDecoding = false;\n          this.appendImage();\n        });\n      } else {\n        this.appendImage();\n      }\n    } else if (this.slide && !this.element.parentNode) {\n      this.slide.container.appendChild(this.element);\n    }\n  }\n  /**\r\n   * Activate the slide,\r\n   * active slide is generally the current one,\r\n   * meaning the user can see it.\r\n   */\n\n\n  activate() {\n    if (this.instance.dispatch('contentActivate', {\n      content: this\n    }).defaultPrevented || !this.slide) {\n      return;\n    }\n\n    if (this.isImageContent() && this.isDecoding && !isSafari()) {\n      // add image to slide when it becomes active,\n      // even if it's not finished decoding\n      this.appendImage();\n    } else if (this.isError()) {\n      this.load(false, true); // try to reload\n    }\n\n    if (this.slide.holderElement) {\n      this.slide.holderElement.setAttribute('aria-hidden', 'false');\n    }\n  }\n  /**\r\n   * Deactivate the content\r\n   */\n\n\n  deactivate() {\n    this.instance.dispatch('contentDeactivate', {\n      content: this\n    });\n\n    if (this.slide && this.slide.holderElement) {\n      this.slide.holderElement.setAttribute('aria-hidden', 'true');\n    }\n  }\n  /**\r\n   * Remove the content from DOM\r\n   */\n\n\n  remove() {\n    this.isAttached = false;\n\n    if (this.instance.dispatch('contentRemove', {\n      content: this\n    }).defaultPrevented) {\n      return;\n    }\n\n    if (this.element && this.element.parentNode) {\n      this.element.remove();\n    }\n\n    if (this.placeholder && this.placeholder.element) {\n      this.placeholder.element.remove();\n    }\n  }\n  /**\r\n   * Append the image content to slide container\r\n   */\n\n\n  appendImage() {\n    if (!this.isAttached) {\n      return;\n    }\n\n    if (this.instance.dispatch('contentAppendImage', {\n      content: this\n    }).defaultPrevented) {\n      return;\n    } // ensure that element exists and is not already appended\n\n\n    if (this.slide && this.element && !this.element.parentNode) {\n      this.slide.container.appendChild(this.element);\n    }\n\n    if (this.state === LOAD_STATE.LOADED || this.state === LOAD_STATE.ERROR) {\n      this.removePlaceholder();\n    }\n  }\n\n}\n\n/** @typedef {import('../photoswipe.js').PhotoSwipeOptions} PhotoSwipeOptions */\n\n/** @typedef {import('../core/base.js').default} PhotoSwipeBase */\n\n/** @typedef {import('../photoswipe.js').Point} Point */\n\n/** @typedef {import('../slide/slide.js').SlideData} SlideData */\n\n/**\r\n * @param {PhotoSwipeOptions} options\r\n * @param {PhotoSwipeBase} pswp\r\n * @returns {Point}\r\n */\nfunction getViewportSize(options, pswp) {\n  if (options.getViewportSizeFn) {\n    const newViewportSize = options.getViewportSizeFn(options, pswp);\n\n    if (newViewportSize) {\n      return newViewportSize;\n    }\n  }\n\n  return {\n    x: document.documentElement.clientWidth,\n    // TODO: height on mobile is very incosistent due to toolbar\n    // find a way to improve this\n    //\n    // document.documentElement.clientHeight - doesn't seem to work well\n    y: window.innerHeight\n  };\n}\n/**\r\n * Parses padding option.\r\n * Supported formats:\r\n *\r\n * // Object\r\n * padding: {\r\n *  top: 0,\r\n *  bottom: 0,\r\n *  left: 0,\r\n *  right: 0\r\n * }\r\n *\r\n * // A function that returns the object\r\n * paddingFn: (viewportSize, itemData, index) => {\r\n *  return {\r\n *    top: 0,\r\n *    bottom: 0,\r\n *    left: 0,\r\n *    right: 0\r\n *  };\r\n * }\r\n *\r\n * // Legacy variant\r\n * paddingLeft: 0,\r\n * paddingRight: 0,\r\n * paddingTop: 0,\r\n * paddingBottom: 0,\r\n *\r\n * @param {'left' | 'top' | 'bottom' | 'right'} prop\r\n * @param {PhotoSwipeOptions} options PhotoSwipe options\r\n * @param {Point} viewportSize PhotoSwipe viewport size, for example: { x:800, y:600 }\r\n * @param {SlideData} itemData Data about the slide\r\n * @param {number} index Slide index\r\n * @returns {number}\r\n */\n\nfunction parsePaddingOption(prop, options, viewportSize, itemData, index) {\n  let paddingValue = 0;\n\n  if (options.paddingFn) {\n    paddingValue = options.paddingFn(viewportSize, itemData, index)[prop];\n  } else if (options.padding) {\n    paddingValue = options.padding[prop];\n  } else {\n    const legacyPropName = 'padding' + prop[0].toUpperCase() + prop.slice(1); // @ts-expect-error\n\n    if (options[legacyPropName]) {\n      // @ts-expect-error\n      paddingValue = options[legacyPropName];\n    }\n  }\n\n  return Number(paddingValue) || 0;\n}\n/**\r\n * @param {PhotoSwipeOptions} options\r\n * @param {Point} viewportSize\r\n * @param {SlideData} itemData\r\n * @param {number} index\r\n * @returns {Point}\r\n */\n\nfunction getPanAreaSize(options, viewportSize, itemData, index) {\n  return {\n    x: viewportSize.x - parsePaddingOption('left', options, viewportSize, itemData, index) - parsePaddingOption('right', options, viewportSize, itemData, index),\n    y: viewportSize.y - parsePaddingOption('top', options, viewportSize, itemData, index) - parsePaddingOption('bottom', options, viewportSize, itemData, index)\n  };\n}\n\nconst MAX_IMAGE_WIDTH = 4000;\n/** @typedef {import('../photoswipe.js').default} PhotoSwipe */\n\n/** @typedef {import('../photoswipe.js').PhotoSwipeOptions} PhotoSwipeOptions */\n\n/** @typedef {import('../photoswipe.js').Point} Point */\n\n/** @typedef {import('../slide/slide.js').SlideData} SlideData */\n\n/** @typedef {'fit' | 'fill' | number | ((zoomLevelObject: ZoomLevel) => number)} ZoomLevelOption */\n\n/**\r\n * Calculates zoom levels for specific slide.\r\n * Depends on viewport size and image size.\r\n */\n\nclass ZoomLevel {\n  /**\r\n   * @param {PhotoSwipeOptions} options PhotoSwipe options\r\n   * @param {SlideData} itemData Slide data\r\n   * @param {number} index Slide index\r\n   * @param {PhotoSwipe} [pswp] PhotoSwipe instance, can be undefined if not initialized yet\r\n   */\n  constructor(options, itemData, index, pswp) {\n    this.pswp = pswp;\n    this.options = options;\n    this.itemData = itemData;\n    this.index = index;\n    /** @type { Point | null } */\n\n    this.panAreaSize = null;\n    /** @type { Point | null } */\n\n    this.elementSize = null;\n    this.fit = 1;\n    this.fill = 1;\n    this.vFill = 1;\n    this.initial = 1;\n    this.secondary = 1;\n    this.max = 1;\n    this.min = 1;\n  }\n  /**\r\n   * Calculate initial, secondary and maximum zoom level for the specified slide.\r\n   *\r\n   * It should be called when either image or viewport size changes.\r\n   *\r\n   * @param {number} maxWidth\r\n   * @param {number} maxHeight\r\n   * @param {Point} panAreaSize\r\n   */\n\n\n  update(maxWidth, maxHeight, panAreaSize) {\n    /** @type {Point} */\n    const elementSize = {\n      x: maxWidth,\n      y: maxHeight\n    };\n    this.elementSize = elementSize;\n    this.panAreaSize = panAreaSize;\n    const hRatio = panAreaSize.x / elementSize.x;\n    const vRatio = panAreaSize.y / elementSize.y;\n    this.fit = Math.min(1, hRatio < vRatio ? hRatio : vRatio);\n    this.fill = Math.min(1, hRatio > vRatio ? hRatio : vRatio); // zoom.vFill defines zoom level of the image\n    // when it has 100% of viewport vertical space (height)\n\n    this.vFill = Math.min(1, vRatio);\n    this.initial = this._getInitial();\n    this.secondary = this._getSecondary();\n    this.max = Math.max(this.initial, this.secondary, this._getMax());\n    this.min = Math.min(this.fit, this.initial, this.secondary);\n\n    if (this.pswp) {\n      this.pswp.dispatch('zoomLevelsUpdate', {\n        zoomLevels: this,\n        slideData: this.itemData\n      });\n    }\n  }\n  /**\r\n   * Parses user-defined zoom option.\r\n   *\r\n   * @private\r\n   * @param {'initial' | 'secondary' | 'max'} optionPrefix Zoom level option prefix (initial, secondary, max)\r\n   * @returns { number | undefined }\r\n   */\n\n\n  _parseZoomLevelOption(optionPrefix) {\n    const optionName =\n    /** @type {'initialZoomLevel' | 'secondaryZoomLevel' | 'maxZoomLevel'} */\n    optionPrefix + 'ZoomLevel';\n    const optionValue = this.options[optionName];\n\n    if (!optionValue) {\n      return;\n    }\n\n    if (typeof optionValue === 'function') {\n      return optionValue(this);\n    }\n\n    if (optionValue === 'fill') {\n      return this.fill;\n    }\n\n    if (optionValue === 'fit') {\n      return this.fit;\n    }\n\n    return Number(optionValue);\n  }\n  /**\r\n   * Get zoom level to which image will be zoomed after double-tap gesture,\r\n   * or when user clicks on zoom icon,\r\n   * or mouse-click on image itself.\r\n   * If you return 1 image will be zoomed to its original size.\r\n   *\r\n   * @private\r\n   * @return {number}\r\n   */\n\n\n  _getSecondary() {\n    let currZoomLevel = this._parseZoomLevelOption('secondary');\n\n    if (currZoomLevel) {\n      return currZoomLevel;\n    } // 3x of \"fit\" state, but not larger than original\n\n\n    currZoomLevel = Math.min(1, this.fit * 3);\n\n    if (this.elementSize && currZoomLevel * this.elementSize.x > MAX_IMAGE_WIDTH) {\n      currZoomLevel = MAX_IMAGE_WIDTH / this.elementSize.x;\n    }\n\n    return currZoomLevel;\n  }\n  /**\r\n   * Get initial image zoom level.\r\n   *\r\n   * @private\r\n   * @return {number}\r\n   */\n\n\n  _getInitial() {\n    return this._parseZoomLevelOption('initial') || this.fit;\n  }\n  /**\r\n   * Maximum zoom level when user zooms\r\n   * via zoom/pinch gesture,\r\n   * via cmd/ctrl-wheel or via trackpad.\r\n   *\r\n   * @private\r\n   * @return {number}\r\n   */\n\n\n  _getMax() {\n    // max zoom level is x4 from \"fit state\",\n    // used for zoom gesture and ctrl/trackpad zoom\n    return this._parseZoomLevelOption('max') || Math.max(1, this.fit * 4);\n  }\n\n}\n\n/**\r\n * Lazy-load an image\r\n * This function is used both by Lightbox and PhotoSwipe core,\r\n * thus it can be called before dialog is opened.\r\n *\r\n * @param {SlideData} itemData Data about the slide\r\n * @param {PhotoSwipeBase} instance PhotoSwipe or PhotoSwipeLightbox instance\r\n * @param {number} index\r\n * @returns {Content} Image that is being decoded or false.\r\n */\n\nfunction lazyLoadData(itemData, instance, index) {\n  const content = instance.createContentFromData(itemData, index);\n  /** @type {ZoomLevel | undefined} */\n\n  let zoomLevel;\n  const {\n    options\n  } = instance; // We need to know dimensions of the image to preload it,\n  // as it might use srcset, and we need to define sizes\n\n  if (options) {\n    zoomLevel = new ZoomLevel(options, itemData, -1);\n    let viewportSize;\n\n    if (instance.pswp) {\n      viewportSize = instance.pswp.viewportSize;\n    } else {\n      viewportSize = getViewportSize(options, instance);\n    }\n\n    const panAreaSize = getPanAreaSize(options, viewportSize, itemData, index);\n    zoomLevel.update(content.width, content.height, panAreaSize);\n  }\n\n  content.lazyLoad();\n\n  if (zoomLevel) {\n    content.setDisplayedSize(Math.ceil(content.width * zoomLevel.initial), Math.ceil(content.height * zoomLevel.initial));\n  }\n\n  return content;\n}\n/**\r\n * Lazy-loads specific slide.\r\n * This function is used both by Lightbox and PhotoSwipe core,\r\n * thus it can be called before dialog is opened.\r\n *\r\n * By default, it loads image based on viewport size and initial zoom level.\r\n *\r\n * @param {number} index Slide index\r\n * @param {PhotoSwipeBase} instance PhotoSwipe or PhotoSwipeLightbox eventable instance\r\n * @returns {Content | undefined}\r\n */\n\nfunction lazyLoadSlide(index, instance) {\n  const itemData = instance.getItemData(index);\n\n  if (instance.dispatch('lazyLoadSlide', {\n    index,\n    itemData\n  }).defaultPrevented) {\n    return;\n  }\n\n  return lazyLoadData(itemData, instance, index);\n}\n\n/** @typedef {import(\"../photoswipe.js\").default} PhotoSwipe */\n\n/** @typedef {import(\"../slide/slide.js\").SlideData} SlideData */\n\n/**\r\n * PhotoSwipe base class that can retrieve data about every slide.\r\n * Shared by PhotoSwipe Core and PhotoSwipe Lightbox\r\n */\n\nclass PhotoSwipeBase extends Eventable {\n  /**\r\n   * Get total number of slides\r\n   *\r\n   * @returns {number}\r\n   */\n  getNumItems() {\n    var _this$options;\n\n    let numItems = 0;\n    const dataSource = (_this$options = this.options) === null || _this$options === void 0 ? void 0 : _this$options.dataSource;\n\n    if (dataSource && 'length' in dataSource) {\n      // may be an array or just object with length property\n      numItems = dataSource.length;\n    } else if (dataSource && 'gallery' in dataSource) {\n      // query DOM elements\n      if (!dataSource.items) {\n        dataSource.items = this._getGalleryDOMElements(dataSource.gallery);\n      }\n\n      if (dataSource.items) {\n        numItems = dataSource.items.length;\n      }\n    } // legacy event, before filters were introduced\n\n\n    const event = this.dispatch('numItems', {\n      dataSource,\n      numItems\n    });\n    return this.applyFilters('numItems', event.numItems, dataSource);\n  }\n  /**\r\n   * @param {SlideData} slideData\r\n   * @param {number} index\r\n   * @returns {Content}\r\n   */\n\n\n  createContentFromData(slideData, index) {\n    return new Content(slideData, this, index);\n  }\n  /**\r\n   * Get item data by index.\r\n   *\r\n   * \"item data\" should contain normalized information that PhotoSwipe needs to generate a slide.\r\n   * For example, it may contain properties like\r\n   * `src`, `srcset`, `w`, `h`, which will be used to generate a slide with image.\r\n   *\r\n   * @param {number} index\r\n   * @returns {SlideData}\r\n   */\n\n\n  getItemData(index) {\n    var _this$options2;\n\n    const dataSource = (_this$options2 = this.options) === null || _this$options2 === void 0 ? void 0 : _this$options2.dataSource;\n    /** @type {SlideData | HTMLElement} */\n\n    let dataSourceItem = {};\n\n    if (Array.isArray(dataSource)) {\n      // Datasource is an array of elements\n      dataSourceItem = dataSource[index];\n    } else if (dataSource && 'gallery' in dataSource) {\n      // dataSource has gallery property,\n      // thus it was created by Lightbox, based on\n      // gallery and children options\n      // query DOM elements\n      if (!dataSource.items) {\n        dataSource.items = this._getGalleryDOMElements(dataSource.gallery);\n      }\n\n      dataSourceItem = dataSource.items[index];\n    }\n\n    let itemData = dataSourceItem;\n\n    if (itemData instanceof Element) {\n      itemData = this._domElementToItemData(itemData);\n    } // Dispatching the itemData event,\n    // it's a legacy verion before filters were introduced\n\n\n    const event = this.dispatch('itemData', {\n      itemData: itemData || {},\n      index\n    });\n    return this.applyFilters('itemData', event.itemData, index);\n  }\n  /**\r\n   * Get array of gallery DOM elements,\r\n   * based on childSelector and gallery element.\r\n   *\r\n   * @param {HTMLElement} galleryElement\r\n   * @returns {HTMLElement[]}\r\n   */\n\n\n  _getGalleryDOMElements(galleryElement) {\n    var _this$options3, _this$options4;\n\n    if ((_this$options3 = this.options) !== null && _this$options3 !== void 0 && _this$options3.children || (_this$options4 = this.options) !== null && _this$options4 !== void 0 && _this$options4.childSelector) {\n      return getElementsFromOption(this.options.children, this.options.childSelector, galleryElement) || [];\n    }\n\n    return [galleryElement];\n  }\n  /**\r\n   * Converts DOM element to item data object.\r\n   *\r\n   * @param {HTMLElement} element DOM element\r\n   * @returns {SlideData}\r\n   */\n\n\n  _domElementToItemData(element) {\n    /** @type {SlideData} */\n    const itemData = {\n      element\n    };\n    const linkEl =\n    /** @type {HTMLAnchorElement} */\n    element.tagName === 'A' ? element : element.querySelector('a');\n\n    if (linkEl) {\n      // src comes from data-pswp-src attribute,\n      // if it's empty link href is used\n      itemData.src = linkEl.dataset.pswpSrc || linkEl.href;\n\n      if (linkEl.dataset.pswpSrcset) {\n        itemData.srcset = linkEl.dataset.pswpSrcset;\n      }\n\n      itemData.width = linkEl.dataset.pswpWidth ? parseInt(linkEl.dataset.pswpWidth, 10) : 0;\n      itemData.height = linkEl.dataset.pswpHeight ? parseInt(linkEl.dataset.pswpHeight, 10) : 0; // support legacy w & h properties\n\n      itemData.w = itemData.width;\n      itemData.h = itemData.height;\n\n      if (linkEl.dataset.pswpType) {\n        itemData.type = linkEl.dataset.pswpType;\n      }\n\n      const thumbnailEl = element.querySelector('img');\n\n      if (thumbnailEl) {\n        var _thumbnailEl$getAttri;\n\n        // msrc is URL to placeholder image that's displayed before large image is loaded\n        // by default it's displayed only for the first slide\n        itemData.msrc = thumbnailEl.currentSrc || thumbnailEl.src;\n        itemData.alt = (_thumbnailEl$getAttri = thumbnailEl.getAttribute('alt')) !== null && _thumbnailEl$getAttri !== void 0 ? _thumbnailEl$getAttri : '';\n      }\n\n      if (linkEl.dataset.pswpCropped || linkEl.dataset.cropped) {\n        itemData.thumbCropped = true;\n      }\n    }\n\n    return this.applyFilters('domItemData', itemData, element, linkEl);\n  }\n  /**\r\n   * Lazy-load by slide data\r\n   *\r\n   * @param {SlideData} itemData Data about the slide\r\n   * @param {number} index\r\n   * @returns {Content} Image that is being decoded or false.\r\n   */\n\n\n  lazyLoadData(itemData, index) {\n    return lazyLoadData(itemData, this, index);\n  }\n\n}\n\n/**\r\n * @template T\r\n * @typedef {import('../types.js').Type<T>} Type<T>\r\n */\n\n/** @typedef {import('../photoswipe.js').default} PhotoSwipe */\n\n/** @typedef {import('../photoswipe.js').PhotoSwipeOptions} PhotoSwipeOptions */\n\n/** @typedef {import('../photoswipe.js').DataSource} DataSource */\n\n/** @typedef {import('../photoswipe.js').Point} Point */\n\n/** @typedef {import('../slide/content.js').default} Content */\n\n/** @typedef {import('../core/eventable.js').PhotoSwipeEventsMap} PhotoSwipeEventsMap */\n\n/** @typedef {import('../core/eventable.js').PhotoSwipeFiltersMap} PhotoSwipeFiltersMap */\n\n/**\r\n * @template {keyof PhotoSwipeEventsMap} T\r\n * @typedef {import('../core/eventable.js').EventCallback<T>} EventCallback<T>\r\n */\n\n/**\r\n * PhotoSwipe Lightbox\r\n *\r\n * - If user has unsupported browser it falls back to default browser action (just opens URL)\r\n * - Binds click event to links that should open PhotoSwipe\r\n * - parses DOM strcture for PhotoSwipe (retrieves large image URLs and sizes)\r\n * - Initializes PhotoSwipe\r\n *\r\n *\r\n * Loader options use the same object as PhotoSwipe, and supports such options:\r\n *\r\n * gallery - Element | Element[] | NodeList | string selector for the gallery element\r\n * children - Element | Element[] | NodeList | string selector for the gallery children\r\n *\r\n */\n\nclass PhotoSwipeLightbox extends PhotoSwipeBase {\n  /**\r\n   * @param {PhotoSwipeOptions} [options]\r\n   */\n  constructor(options) {\n    super();\n    /** @type {PhotoSwipeOptions} */\n\n    this.options = options || {};\n    this._uid = 0;\n    this.shouldOpen = false;\n    /**\r\n     * @private\r\n     * @type {Content | undefined}\r\n     */\n\n    this._preloadedContent = undefined;\n    this.onThumbnailsClick = this.onThumbnailsClick.bind(this);\n  }\n  /**\r\n   * Initialize lightbox, should be called only once.\r\n   * It's not included in the main constructor, so you may bind events before it.\r\n   */\n\n\n  init() {\n    // Bind click events to each gallery\n    getElementsFromOption(this.options.gallery, this.options.gallerySelector).forEach(galleryElement => {\n      galleryElement.addEventListener('click', this.onThumbnailsClick, false);\n    });\n  }\n  /**\r\n   * @param {MouseEvent} e\r\n   */\n\n\n  onThumbnailsClick(e) {\n    // Exit and allow default browser action if:\n    if (specialKeyUsed(e) // ... if clicked with a special key (ctrl/cmd...)\n    || window.pswp) {\n      // ... if PhotoSwipe is already open\n      return;\n    } // If both clientX and clientY are 0 or not defined,\n    // the event is likely triggered by keyboard,\n    // so we do not pass the initialPoint\n    //\n    // Note that some screen readers emulate the mouse position,\n    // so it's not the ideal way to detect them.\n    //\n\n    /** @type {Point | null} */\n\n\n    let initialPoint = {\n      x: e.clientX,\n      y: e.clientY\n    };\n\n    if (!initialPoint.x && !initialPoint.y) {\n      initialPoint = null;\n    }\n\n    let clickedIndex = this.getClickedIndex(e);\n    clickedIndex = this.applyFilters('clickedIndex', clickedIndex, e, this);\n    /** @type {DataSource} */\n\n    const dataSource = {\n      gallery:\n      /** @type {HTMLElement} */\n      e.currentTarget\n    };\n\n    if (clickedIndex >= 0) {\n      e.preventDefault();\n      this.loadAndOpen(clickedIndex, dataSource, initialPoint);\n    }\n  }\n  /**\r\n   * Get index of gallery item that was clicked.\r\n   *\r\n   * @param {MouseEvent} e click event\r\n   * @returns {number}\r\n   */\n\n\n  getClickedIndex(e) {\n    // legacy option\n    if (this.options.getClickedIndexFn) {\n      return this.options.getClickedIndexFn.call(this, e);\n    }\n\n    const clickedTarget =\n    /** @type {HTMLElement} */\n    e.target;\n    const childElements = getElementsFromOption(this.options.children, this.options.childSelector,\n    /** @type {HTMLElement} */\n    e.currentTarget);\n    const clickedChildIndex = childElements.findIndex(child => child === clickedTarget || child.contains(clickedTarget));\n\n    if (clickedChildIndex !== -1) {\n      return clickedChildIndex;\n    } else if (this.options.children || this.options.childSelector) {\n      // click wasn't on a child element\n      return -1;\n    } // There is only one item (which is the gallery)\n\n\n    return 0;\n  }\n  /**\r\n   * Load and open PhotoSwipe\r\n   *\r\n   * @param {number} index\r\n   * @param {DataSource} [dataSource]\r\n   * @param {Point | null} [initialPoint]\r\n   * @returns {boolean}\r\n   */\n\n\n  loadAndOpen(index, dataSource, initialPoint) {\n    // Check if the gallery is already open\n    if (window.pswp || !this.options) {\n      return false;\n    } // Use the first gallery element if dataSource is not provided\n\n\n    if (!dataSource && this.options.gallery && this.options.children) {\n      const galleryElements = getElementsFromOption(this.options.gallery);\n\n      if (galleryElements[0]) {\n        dataSource = {\n          gallery: galleryElements[0]\n        };\n      }\n    } // set initial index\n\n\n    this.options.index = index; // define options for PhotoSwipe constructor\n\n    this.options.initialPointerPos = initialPoint;\n    this.shouldOpen = true;\n    this.preload(index, dataSource);\n    return true;\n  }\n  /**\r\n   * Load the main module and the slide content by index\r\n   *\r\n   * @param {number} index\r\n   * @param {DataSource} [dataSource]\r\n   */\n\n\n  preload(index, dataSource) {\n    const {\n      options\n    } = this;\n\n    if (dataSource) {\n      options.dataSource = dataSource;\n    } // Add the main module\n\n    /** @type {Promise<Type<PhotoSwipe>>[]} */\n\n\n    const promiseArray = [];\n    const pswpModuleType = typeof options.pswpModule;\n\n    if (isPswpClass(options.pswpModule)) {\n      promiseArray.push(Promise.resolve(\n      /** @type {Type<PhotoSwipe>} */\n      options.pswpModule));\n    } else if (pswpModuleType === 'string') {\n      throw new Error('pswpModule as string is no longer supported');\n    } else if (pswpModuleType === 'function') {\n      promiseArray.push(\n      /** @type {() => Promise<Type<PhotoSwipe>>} */\n      options.pswpModule());\n    } else {\n      throw new Error('pswpModule is not valid');\n    } // Add custom-defined promise, if any\n\n\n    if (typeof options.openPromise === 'function') {\n      // allow developers to perform some task before opening\n      promiseArray.push(options.openPromise());\n    }\n\n    if (options.preloadFirstSlide !== false && index >= 0) {\n      this._preloadedContent = lazyLoadSlide(index, this);\n    } // Wait till all promises resolve and open PhotoSwipe\n\n\n    const uid = ++this._uid;\n    Promise.all(promiseArray).then(iterableModules => {\n      if (this.shouldOpen) {\n        const mainModule = iterableModules[0];\n\n        this._openPhotoswipe(mainModule, uid);\n      }\n    });\n  }\n  /**\r\n   * @private\r\n   * @param {Type<PhotoSwipe> | { default: Type<PhotoSwipe> }} module\r\n   * @param {number} uid\r\n   */\n\n\n  _openPhotoswipe(module, uid) {\n    // Cancel opening if UID doesn't match the current one\n    // (if user clicked on another gallery item before current was loaded).\n    //\n    // Or if shouldOpen flag is set to false\n    // (developer may modify it via public API)\n    if (uid !== this._uid && this.shouldOpen) {\n      return;\n    }\n\n    this.shouldOpen = false; // PhotoSwipe is already open\n\n    if (window.pswp) {\n      return;\n    }\n    /**\r\n     * Pass data to PhotoSwipe and open init\r\n     *\r\n     * @type {PhotoSwipe}\r\n     */\n\n\n    const pswp = typeof module === 'object' ? new module.default(this.options) // eslint-disable-line\n    : new module(this.options); // eslint-disable-line\n\n    this.pswp = pswp;\n    window.pswp = pswp; // map listeners from Lightbox to PhotoSwipe Core\n\n    /** @type {(keyof PhotoSwipeEventsMap)[]} */\n\n    Object.keys(this._listeners).forEach(name => {\n      var _this$_listeners$name;\n\n      (_this$_listeners$name = this._listeners[name]) === null || _this$_listeners$name === void 0 || _this$_listeners$name.forEach(fn => {\n        pswp.on(name,\n        /** @type {EventCallback<typeof name>} */\n        fn);\n      });\n    }); // same with filters\n\n    /** @type {(keyof PhotoSwipeFiltersMap)[]} */\n\n    Object.keys(this._filters).forEach(name => {\n      var _this$_filters$name;\n\n      (_this$_filters$name = this._filters[name]) === null || _this$_filters$name === void 0 || _this$_filters$name.forEach(filter => {\n        pswp.addFilter(name, filter.fn, filter.priority);\n      });\n    });\n\n    if (this._preloadedContent) {\n      pswp.contentLoader.addToCache(this._preloadedContent);\n      this._preloadedContent = undefined;\n    }\n\n    pswp.on('destroy', () => {\n      // clean up public variables\n      this.pswp = undefined;\n      delete window.pswp;\n    });\n    pswp.init();\n  }\n  /**\r\n   * Unbinds all events, closes PhotoSwipe if it's open.\r\n   */\n\n\n  destroy() {\n    var _this$pswp;\n\n    (_this$pswp = this.pswp) === null || _this$pswp === void 0 || _this$pswp.destroy();\n    this.shouldOpen = false;\n    this._listeners = {};\n    getElementsFromOption(this.options.gallery, this.options.gallerySelector).forEach(galleryElement => {\n      galleryElement.removeEventListener('click', this.onThumbnailsClick, false);\n    });\n  }\n\n}\n\nexport { PhotoSwipeLightbox as default };\n//# sourceMappingURL=photoswipe-lightbox.esm.js.map\n"],"names":["UPPERCASE","LOWERCASE","LEADING_CAPITAL","IDENTIFIER","SEPARATORS","LEADING_SEPARATORS","RegExp","source","SEPARATORS_AND_IDENTIFIER","NUMBERS_AND_IDENTIFIER","camelCase","input","options","Array","isArray","TypeError","pascalCase","preserveConsecutiveUppercase","map","x","trim","filter","length","join","toLowerCase","locale","string","toLocaleLowerCase","toUpperCase","toLocaleUpperCase","isLastCharLower","isLastCharUpper","isLastLastCharUpper","i","character","test","slice","preserveCamelCase","replace","lastIndex","m1","charAt","_","identifier","m","postProcess","module","exports","window","factory","matchesMethod","ElemProto","Element","prototype","matches","matchesSelector","prefixes","method","elem","selector","global","this","EvEmitter","proto","on","eventName","listener","events","_events","listeners","includes","push","once","onceEvents","_onceEvents","off","index","indexOf","splice","emitEvent","args","onceListeners","apply","allOff","utils","a","b","prop","num","div","arraySlice","makeArray","obj","call","removeFrom","ary","getParent","parentNode","document","body","getQueryElement","querySelector","handleEvent","event","type","filterFindElements","elems","ffElems","forEach","HTMLElement","childElems","querySelectorAll","debounceMethod","_class","methodName","threshold","timeoutName","timeout","clearTimeout","arguments","_this","setTimeout","docReady","callback","readyState","addEventListener","toDashed","str","match","$1","$2","console","htmlInit","WidgetClass","namespace","dashedNamespace","dataAttr","dataAttrElems","jsDashElems","concat","dataOptionsAttr","jQuery","attr","getAttribute","JSON","parse","error","className","instance","data","g","p","f","w","y","e","warn","v","sortNumeric","t","E","getSizes","k","src","width","S","lastIndexOf","M","layout","height","sourceMetadata","s","breakpoints","r","aspectRatio","n","formats","o","l","h","Math","round","N","generateImageSource","filename","format","fit","$","pluginName","d","reporter","c","backgroundColor","u","placeholderURL","Error","Set","size","has","delete","add","Object","entries","_ref","_ref2","outputPixelDensities","I","j","sizes","presentationWidth","presentationHeight","unscaledWidth","sources","Boolean","find","fallback","srcSet","L","images","placeholder","from","_toConsumableArray","sort","_ref3","min","Number","MAX_SAFE_INTEGER","max","T","W","hasNativeLazyLoadSupport","HTMLImageElement","gatsbyImageData","gatsbyImage","childImageSharp","C","O","z","style","D","baseUrl","urlBuilder","sourceWidth","sourceHeight","P","loading","shouldLoad","opacity","A","position","top","left","bottom","right","objectFit","objectPosition","transition","q","_s$images$sources2","_r$sources","_ref4","_s$images$sources","media","image","H","F","_ref5","paddingTop","maxWidth","display","alt","role","G","children","V","B","U","decoding","Y","_ref6","key","X","propTypes","isRequired","displayName","J","Z","K","Q","ee","te","ae","_len","_key","ie","se","re","ne","oe","le","de","as","class","onStartLoad","onLoad","onError","stringify","then","_ref7","renderImageToString","swapPlaceholderImage","current","complete","wasCached","removeAttribute","removeEventListener","_ref8","innerHTML","isLoading","isLoaded","requestAnimationFrame","cancelAnimationFrame","ref","dangerouslySetInnerHTML","__html","suppressHydrationWarning","ce","he","ue","__imageData","__error","ge","imgClassName","imgStyle","pe","_len2","_key2","me","fe","we","allSanityTypeItems","_data","_data2","edges","node","getStyleSize","value","parseFloat","isNaN","noop","logError","message","measurements","measurementsLength","getZeroSize","innerWidth","innerHeight","outerWidth","outerHeight","getStyle","getComputedStyle","isBoxSizeOuter","isSetup","setup","createElement","padding","borderStyle","borderWidth","boxSizing","documentElement","appendChild","getSize","removeChild","nodeType","offsetWidth","offsetHeight","isBorderBox","measurement","paddingWidth","paddingLeft","paddingRight","paddingHeight","paddingBottom","marginWidth","marginLeft","marginRight","marginHeight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderHeight","borderTopWidth","borderBottomWidth","isBorderBoxSizeOuter","styleWidth","styleHeight","imagesLoaded","ImagesLoaded","onAlways","queryElem","elements","assign","getImages","jqDeferred","Deferred","check","bind","create","addElementImages","elementNodeTypes","nodeName","addImage","background","addElementBackgroundImages","childImgs","img","child","reURL","LoadingImage","Background","url","element","Image","exec","backgroundImage","addBackground","loadingImage","progressedCount","hasAnyBroken","onProgress","progress","notify","debug","log","isComplete","jqMethod","getIsImageComplete","confirm","naturalWidth","proxyImage","crossOrigin","currentSrc","onload","unbindEvents","onerror","makeJQueryPlugin","fn","promise","Outlayer","Masonry","compatOptions","fitWidth","_resetLayout","_getMeasurement","measureColumns","colYs","cols","maxY","horizontalColIndex","getContainerWidth","columnWidth","firstItem","items","firstItemElem","containerWidth","gutter","excess","container","_getOption","_getItemLayoutPosition","item","remainder","colSpan","colPosition","horizontalOrder","col","setHeight","setMax","_getTopColPosition","colGroup","_getTopColGroup","minimumY","groupCount","_getColGroupY","groupColYs","_getHorizontalColPosition","hasSize","_manageStamp","stamp","stampSize","offset","_getElementOffset","firstX","lastX","firstCol","floor","lastCol","stampMaxY","_getContainerSize","_getContainerFitWidth","unusedCols","needsResizeLayout","previousWidth","isEmptyObj","docElemStyle","transitionProperty","transformProperty","transform","transitionEndEvent","WebkitTransition","vendorProperties","transitionDuration","transitionDelay","Item","_create","toDashedAll","constructor","_transn","ingProperties","clean","onEnd","css","elemStyle","getPosition","isOriginLeft","isOriginTop","xValue","yValue","layoutSize","layoutPosition","xPadding","xProperty","xResetProperty","getXValue","yPadding","yProperty","yResetProperty","getYValue","isHorizontal","percentPosition","_transitionTo","curX","curY","didNotMove","setPosition","isTransitioning","transX","transY","transitionStyle","getTranslate","to","onTransitionEnd","isCleaning","goTo","moveTo","_nonTransition","_removeStyles","_transition","enableTransition","transitionProps","duration","staggerDelay","onwebkitTransitionEnd","ontransitionend","onotransitionend","dashedVendorProperties","target","propertyName","disableTransition","removeTransitionStyles","cleanStyle","cleanTransitionStyle","stagger","delay","removeElem","remove","hide","reveal","isHidden","getHideRevealTransitionEndProperty","onRevealTransitionEnd","hiddenStyle","visibleStyle","styleProperty","optionStyle","onHideTransitionEnd","destroy","GUID","instances","queryElement","$element","extend","defaults","option","id","outlayerGUID","containerStyle","initLayout","originLeft","originTop","resize","resizeContainer","subclass","Parent","SubClass","opts","oldOption","undefined","horizontal","layoutInstant","reloadItems","stamps","bindResize","_itemize","itemElems","_filterFindItemElements","itemSelector","getItemElements","_manageStamps","isInstant","_isLayoutInited","layoutItems","_init","_getItemsForLayout","_layoutItems","_postLayout","isIgnored","_emitCompleteOnItems","queue","isLayoutInstant","_processLayoutQueue","updateStagger","_positionItem","getMilliseconds","_setContainerMeasure","measure","isWidth","elemSize","onComplete","dispatchEvent","count","doneCount","tick","emitArgs","$event","Event","trigger","ignore","getItem","unignore","_find","unstamp","_getBoundingRect","boundingRect","getBoundingClientRect","_boundingRect","thisRect","isResizeBound","unbindResize","onresize","addItems","appended","prepended","previousItems","revealItemElements","getItems","hideItemElements","removeItems","removeData","Layout","bridget","msUnits","ms","time","unit","tagName","appendToEl","el","setWidthHeight","LOAD_STATE","getElementsFromOption","legacySelector","parent","NodeList","isSafari","navigator","vendor","PhotoSwipeEvent","details","defaultPrevented","preventDefault","Eventable","_listeners","_filters","pswp","addFilter","name","priority","_this$_filters$name","_this$_filters$name2","_this$pswp","f1","f2","removeFilter","applyFilters","_this$_filters$name3","_this$_listeners$name","_this$pswp2","_this$pswp3","dispatch","_this$_listeners$name2","Placeholder","imageSrc","imgEl","setAttribute","setDisplayedSize","transformOrigin","scale","propValue","toTransformString","_this$element","Content","itemData","slide","displayedImageWidth","displayedImageHeight","isAttached","hasSlide","isDecoding","state","content","removePlaceholder","keepPlaceholder","load","isLazy","reload","usePlaceholder","placeholderEl","parentElement","prepend","placeholderSrc","msrc","isFirstSlide","isImageContent","loadImage","html","updateContentSize","_this$data$src","_this$data$alt","imageElement","updateSrcsetSizes","srcset","onLoaded","setSlide","isActive","heavyAppended","append","displayError","isError","isInitialSizeUpdate","isZoomable","sizesWidth","dataset","largestUsedSize","parseInt","String","lazyLoad","_this$instance$option","_this$instance$option2","errorMsgEl","innerText","errorMsg","supportsDecode","decode","catch","finally","appendImage","activate","holderElement","deactivate","parsePaddingOption","viewportSize","paddingValue","paddingFn","legacyPropName","ZoomLevel","panAreaSize","elementSize","fill","vFill","initial","secondary","update","maxHeight","hRatio","vRatio","_getInitial","_getSecondary","_getMax","zoomLevels","slideData","_parseZoomLevelOption","optionPrefix","optionName","optionValue","currZoomLevel","lazyLoadData","createContentFromData","zoomLevel","getViewportSizeFn","newViewportSize","clientWidth","getViewportSize","getPanAreaSize","ceil","PhotoSwipeBase","getNumItems","_this$options","numItems","dataSource","_getGalleryDOMElements","gallery","getItemData","_this$options2","dataSourceItem","_domElementToItemData","galleryElement","_this$options3","_this$options4","childSelector","linkEl","pswpSrc","href","pswpSrcset","pswpWidth","pswpHeight","pswpType","thumbnailEl","_thumbnailEl$getAttri","pswpCropped","cropped","thumbCropped","PhotoSwipeLightbox","super","_uid","shouldOpen","_preloadedContent","onThumbnailsClick","init","gallerySelector","button","ctrlKey","metaKey","altKey","shiftKey","specialKeyUsed","initialPoint","clientX","clientY","clickedIndex","getClickedIndex","currentTarget","loadAndOpen","getClickedIndexFn","clickedTarget","clickedChildIndex","findIndex","contains","galleryElements","initialPointerPos","preload","promiseArray","pswpModuleType","pswpModule","Promise","resolve","openPromise","preloadFirstSlide","lazyLoadSlide","uid","all","iterableModules","mainModule","_openPhotoswipe","default","keys","contentLoader","addToCache"],"sourceRoot":""}